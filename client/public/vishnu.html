<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vishnu Sahasranamam: Verse Analysis тАФ ISCLS 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;700&family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0f172a;
            --card-bg: #1e293b;
            --input-bg: #0f172a;
            --text: #e2e8f0;
            --accent: #38bdf8;
            --gold: #DAA520;
            --ether: #a855f7; --air: #f59e0b; --fire: #ef4444; --water: #3b82f6; --earth: #10b981;
            --nasal: #ec4899; --voiced: #06b6d4; --aspirated: #f97316; --length: #8b5cf6;
            --laghu: #10b981; --guru: #ef4444;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Rajdhani', sans-serif; background: var(--bg); color: var(--text); padding: 30px; min-height: 100vh; }

        /* --- Header --- */
        .header { text-align: center; margin-bottom: 30px; padding: 20px; background: linear-gradient(90deg, rgba(139,69,19,0.25), rgba(218,165,32,0.25)); border-radius: 12px; border: 1px solid rgba(218,165,32,0.4); }
        .header h1 { font-size: 1.8rem; background: linear-gradient(45deg, var(--gold), #fff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 6px; letter-spacing: 1px; }
        .header .subtitle { color: #94a3b8; font-size: 0.9rem; }

        /* --- Feature 1: Sanskrit Input --- */
        .input-panel { background: var(--card-bg); border-radius: 12px; padding: 25px; margin-bottom: 30px; border: 1px solid #334155; }
        .input-panel h2 { color: var(--gold); font-size: 1.1rem; margin-bottom: 12px; }
        .input-panel textarea {
            width: 100%; height: 100px; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.15);
            border-radius: 8px; color: #fff; padding: 14px; font-size: 1.15rem; resize: vertical;
            font-family: 'Noto Sans Devanagari', sans-serif; line-height: 1.6;
        }
        .input-panel textarea:focus { outline: none; border-color: var(--gold); }
        .btn-row { display: flex; gap: 10px; margin-top: 12px; flex-wrap: wrap; align-items: center; }
        .btn {
            padding: 10px 22px; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;
            font-family: 'Rajdhani', sans-serif; font-size: 0.95rem; transition: all 0.25s;
        }
        .btn-primary { background: linear-gradient(45deg, var(--gold), #f4a460); color: #000; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 5px 18px rgba(218,165,32,0.35); }
        .btn-secondary { background: rgba(255,255,255,0.08); color: var(--text); border: 1px solid rgba(255,255,255,0.18); }
        .btn-secondary:hover { background: rgba(255,255,255,0.15); }
        .verse-selector { color: #94a3b8; font-size: 0.85rem; margin-left: auto; }

        /* --- Two-column grid for Meru + Stats --- */
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 30px; }
        @media (max-width: 800px) { .grid-2 { grid-template-columns: 1fr; } }
        .panel { background: var(--card-bg); border-radius: 12px; padding: 22px; border: 1px solid #334155; }
        .panel h2 { color: var(--gold); font-size: 1.05rem; margin-bottom: 14px; }

        /* --- Verse Card --- */
        .verse-card { background: var(--card-bg); border-radius: 12px; padding: 30px; margin-bottom: 30px; border: 1px solid #334155; display: flex; flex-direction: column; gap: 22px; position: relative; }
        .verse-id { position: absolute; top: 12px; right: 18px; font-size: 1.6em; color: #334155; font-weight: bold; opacity: 0.4; }

        .sanskrit { font-family: 'Noto Sans Devanagari', sans-serif; font-size: 1.7em; color: #fff; margin-bottom: 10px; line-height: 1.6; text-align: center; }

        /* Feature 2: Syllable Classification */
        .syllable-section { display: flex; flex-direction: column; align-items: center; margin-bottom: 18px; }
        .syllable-strip { display: flex; gap: 5px; flex-wrap: wrap; justify-content: center; margin-top: 6px; }
        .syl { padding: 5px 10px; border-radius: 4px; font-size: 0.88rem; text-align: center; min-width: 32px; font-weight: 600; }
        .syl-laghu { background: var(--laghu); color: #000; opacity: 0.85; }
        .syl-guru { background: var(--guru); color: #fff; }

        /* Feature 3: Binary Pattern + Decimal */
        .binary-section { text-align: center; margin-bottom: 16px; }
        .binary-string { color: var(--gold); font-size: 1.35rem; letter-spacing: 5px; font-family: 'Courier New', monospace; margin-top: 4px; word-break: break-all; }
        .decimal-value { color: #94a3b8; font-size: 0.9rem; margin-top: 4px; }

        /* Feature 4: Meter Detection */
        .meter-badge { display: inline-block; background: linear-gradient(90deg, rgba(46,204,113,0.18), rgba(231,76,60,0.18)); padding: 10px 28px; border-radius: 8px; text-align: center; margin: 8px auto 0 auto; }
        .meter-name { font-size: 1.3rem; color: var(--gold); font-weight: bold; }
        .meter-sub { font-size: 0.8rem; color: #64748b; }

        /* Feature 6: Phonetic Spectrum тАФ animated individual bars */
        .spectrum-bars { margin-top: 8px; }
        .spectrum-row { display: flex; align-items: center; margin: 7px 0; gap: 10px; }
        .spectrum-label { width: 75px; font-size: 0.85rem; color: #94a3b8; text-align: right; }
        .spectrum-track { flex: 1; height: 22px; background: #334155; border-radius: 4px; overflow: hidden; position: relative; }
        .spectrum-fill { height: 100%; border-radius: 4px; transition: width 0.7s ease-out; display: flex; align-items: center; padding-left: 8px; font-size: 0.8rem; font-weight: bold; color: #fff; }
        .spectrum-pct { margin-left: auto; padding-right: 6px; font-size: 0.75rem; }
        .interpretation-box { background: linear-gradient(135deg, rgba(139,69,19,0.15), rgba(218,165,32,0.08)); border: 1px solid rgba(218,165,32,0.25); border-radius: 8px; padding: 14px; margin-top: 14px; font-size: 0.9rem; color: #cbd5e1; line-height: 1.5; display: none; }

        /* Feature 5: Meru Prastara canvas */
        .meru-wrap { display: flex; justify-content: center; }
        #meruCanvas { max-width: 100%; background: rgba(0,0,0,0.2); border-radius: 8px; }

        /* Feature 7: Statistics Panel */
        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
        .stat-card { background: rgba(0,0,0,0.25); padding: 14px; border-radius: 8px; text-align: center; }
        .stat-value { font-size: 1.6rem; color: var(--gold); font-weight: bold; }
        .stat-label { font-size: 0.78rem; color: #64748b; margin-top: 3px; }

        /* Word Meanings */
        .meanings-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 14px; }
        .meaning-item { background: var(--input-bg); border-radius: 8px; padding: 14px; border: 1px solid #334155; }
        .word-sanskrit { color: var(--accent); font-weight: bold; font-size: 1.1em; display: block; margin-bottom: 4px; }
        .word-meaning { color: #cbd5e1; font-size: 0.95em; line-height: 1.4; }
        .label { font-size: 0.72em; color: #64748b; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 6px; display: block; }

        .divider { border-top: 1px solid #334155; margin: 5px 0; }
        .hidden { display: none; }

        .footer { text-align: center; padding: 18px; margin-top: 10px; color: #475569; font-size: 0.85rem; }
        .footer a { color: var(--gold); text-decoration: none; }
    </style>
</head>
<body>

<!-- Header -->
<div class="header">
    <h1>Vishnu Sahasranamam: Verse Analysis</h1>
    <p class="subtitle">Piс╣Еgala Binary Prosody ┬╖ P─Бс╣Зini 9D Phonetic Spectrum ┬╖ Meru Prast─Бra ┬╖ ISCLS 2026</p>
</div>

<!-- тШЕ Feature 1: Sanskrit Input -->
<div class="input-panel">
    <h2>ЁЯУЬ Sanskrit Input</h2>
    <textarea id="sanskritInput" placeholder="Enter Sanskrit verse in DevanagariтАж">рд╡рд┐рд╢реНрд╡рдВ рд╡рд┐рд╖реНрдгреБрд░реНрд╡рд╖рдЯреНрдХрд╛рд░реЛ рднреВрддрднрд╡реНрдпрднрд╡рддреНрдкреНрд░рднреБрдГ ред
рднреВрддрдХреГрджреНрднреВрддрднреГрджреНрднрд╛рд╡реЛ рднреВрддрд╛рддреНрдорд╛ рднреВрддрднрд╛рд╡рдирдГ рее резрее</textarea>
    <div class="btn-row">
        <button class="btn btn-primary" onclick="analyzeVerse()">тЪб Analyze Verse</button>
        <button class="btn btn-secondary" onclick="loadVerse(-1)">тЧА Prev</button>
        <button class="btn btn-secondary" onclick="loadVerse(1)">Next тЦ╢</button>
        <span class="verse-selector" id="verseIndicator">Verse 1 / 10</span>
    </div>
</div>

<!-- тШЕ Feature 5 Meru + Feature 7 Stats тАФ side by side -->
<div class="grid-2">
    <div class="panel">
        <h2>ЁЯФ║ Meru Prast─Бra (Pascal's Triangle)</h2>
        <p style="color:#64748b; font-size:0.82rem; margin-bottom:10px;">Highlighted path = combinatorial identity of the detected binary pattern.</p>
        <div class="meru-wrap">
            <canvas id="meruCanvas" width="420" height="320"></canvas>
        </div>
    </div>
    <div class="panel">
        <h2>ЁЯУК Statistics</h2>
        <div class="stats-grid">
            <div class="stat-card"><div class="stat-value" id="statSyllables">0</div><div class="stat-label">Total Syllables</div></div>
            <div class="stat-card"><div class="stat-value" id="statLaghu">0</div><div class="stat-label">Laghu (Short)</div></div>
            <div class="stat-card"><div class="stat-value" id="statGuru">0</div><div class="stat-label">Guru (Long)</div></div>
            <div class="stat-card"><div class="stat-value" id="statRatio">0</div><div class="stat-label">L:G Ratio</div></div>
            <div class="stat-card"><div class="stat-value" id="statDecimal">0</div><div class="stat-label">Binary тЖТ Decimal</div></div>
            <div class="stat-card"><div class="stat-value" id="statPrime">тАФ</div><div class="stat-label">Prime Stability</div></div>
        </div>

        <!-- тШЕ Feature 6: Phonetic Spectrum (animated bars) -->
        <h2 style="margin-top:20px;">ЁЯОп Phonetic Spectrum</h2>
        <div class="spectrum-bars" id="spectrumBars">
            <div class="spectrum-row"><span class="spectrum-label">Guttural</span><div class="spectrum-track"><div class="spectrum-fill" id="bar-guttural" style="width:0%;background:var(--ether)"></div></div></div>
            <div class="spectrum-row"><span class="spectrum-label">Palatal</span><div class="spectrum-track"><div class="spectrum-fill" id="bar-palatal" style="width:0%;background:var(--air)"></div></div></div>
            <div class="spectrum-row"><span class="spectrum-label">Cerebral</span><div class="spectrum-track"><div class="spectrum-fill" id="bar-cerebral" style="width:0%;background:var(--fire)"></div></div></div>
            <div class="spectrum-row"><span class="spectrum-label">Dental</span><div class="spectrum-track"><div class="spectrum-fill" id="bar-dental" style="width:0%;background:var(--water)"></div></div></div>
            <div class="spectrum-row"><span class="spectrum-label">Labial</span><div class="spectrum-track"><div class="spectrum-fill" id="bar-labial" style="width:0%;background:var(--earth)"></div></div></div>
        </div>
        <h2 style="margin-top:18px;font-size:0.95rem;">ЁЯФм Articulatory Features</h2>
        <div class="spectrum-bars">
            <div class="spectrum-row"><span class="spectrum-label">Nasal</span><div class="spectrum-track"><div class="spectrum-fill" id="bar-nasal" style="width:0%;background:var(--nasal)"></div></div></div>
            <div class="spectrum-row"><span class="spectrum-label">Voiced</span><div class="spectrum-track"><div class="spectrum-fill" id="bar-voiced" style="width:0%;background:var(--voiced)"></div></div></div>
            <div class="spectrum-row"><span class="spectrum-label">Aspirated</span><div class="spectrum-track"><div class="spectrum-fill" id="bar-aspirated" style="width:0%;background:var(--aspirated)"></div></div></div>
            <div class="spectrum-row"><span class="spectrum-label">Length</span><div class="spectrum-track"><div class="spectrum-fill" id="bar-length" style="width:0%;background:var(--length)"></div></div></div>
        </div>
        <div class="interpretation-box" id="interpretation"></div>
    </div>
</div>

<!-- Verse result card -->
<div id="verseResult" class="verse-card hidden">
    <div class="verse-id" id="resultVerseId"></div>

    <!-- Sanskrit display -->
    <div class="sanskrit" id="resultSanskrit"></div>

    <!-- тШЕ Feature 2: Syllable Classification -->
    <div class="syllable-section">
        <span class="label">Syllable Classification (Laghu / Guru)</span>
        <div class="syllable-strip" id="syllableStrip"></div>
    </div>

    <!-- тШЕ Feature 3: Binary Pattern + Decimal -->
    <div class="binary-section">
        <span class="label">Binary Prosody Pattern</span>
        <div class="binary-string" id="binaryString"></div>
        <div class="decimal-value" id="decimalValue"></div>
    </div>

    <!-- тШЕ Feature 4: Meter Detection -->
    <div style="text-align:center;">
        <div class="meter-badge">
            <div class="meter-sub">Detected Meter</div>
            <div class="meter-name" id="meterName">тАФ</div>
        </div>
    </div>

    <div class="divider"></div>

    <!-- тШЕ Feature 6b: Elemental Activation stacked bar -->
    <div style="max-width:600px;margin:0 auto;">
        <span class="label" style="text-align:center;">Elemental Activation</span>
        <div style="display:flex;height:14px;border-radius:7px;overflow:hidden;background:#334155;" id="energyBar"></div>
        <div style="display:flex;justify-content:center;gap:14px;font-size:0.82em;margin-top:6px;color:#94a3b8;font-weight:bold;">
            <span style="color:var(--ether)">Ether</span>
            <span style="color:var(--air)">Air</span>
            <span style="color:var(--fire)">Fire</span>
            <span style="color:var(--water)">Water</span>
            <span style="color:var(--earth)">Earth</span>
        </div>
    </div>

    <div class="divider"></div>

    <!-- тШЕ Word Meanings -->
    <div>
        <span class="label">Word Meanings</span>
        <div class="meanings-grid" id="meaningsGrid"></div>
    </div>
</div>

<!-- тШЕ Aggregate Corpus Analysis -->
<div class="input-panel" style="margin-top:30px;">
    <h2>ЁЯУИ Aggregate Corpus Analysis тАФ All 107 Verses</h2>
    <p style="color:#94a3b8;font-size:0.88rem;margin-bottom:14px;">Analyze all loaded verses together to produce corpus-level statistics matching the paper's claims.</p>
    <button class="btn btn-primary" onclick="analyzeCorpus()">тЪб Run Corpus Analysis</button>
</div>
<div id="corpusResult" class="hidden">
    <!-- Corpus Stats Summary -->
    <div class="panel" style="margin-bottom:24px;">
        <h2>ЁЯУК Corpus Summary</h2>
        <div class="stats-grid" style="grid-template-columns:repeat(4,1fr);">
            <div class="stat-card"><div class="stat-value" id="cTotalSyl">0</div><div class="stat-label">Total Syllables</div></div>
            <div class="stat-card"><div class="stat-value" id="cTotalLaghu">0</div><div class="stat-label">Laghu (Short)</div></div>
            <div class="stat-card"><div class="stat-value" id="cTotalGuru">0</div><div class="stat-label">Guru (Long)</div></div>
            <div class="stat-card"><div class="stat-value" id="cRatio">0</div><div class="stat-label">L:G Ratio</div></div>
        </div>
    </div>

    <!-- Corpus 9D Spectrum -->
    <div class="grid-2">
        <div class="panel">
            <h2>ЁЯОп Corpus Phonetic Spectrum (9D)</h2>
            <div class="spectrum-bars">
                <div class="spectrum-row"><span class="spectrum-label">Guttural</span><div class="spectrum-track"><div class="spectrum-fill" id="c-bar-guttural" style="width:0%;background:var(--ether)"></div></div></div>
                <div class="spectrum-row"><span class="spectrum-label">Palatal</span><div class="spectrum-track"><div class="spectrum-fill" id="c-bar-palatal" style="width:0%;background:var(--air)"></div></div></div>
                <div class="spectrum-row"><span class="spectrum-label">Cerebral</span><div class="spectrum-track"><div class="spectrum-fill" id="c-bar-cerebral" style="width:0%;background:var(--fire)"></div></div></div>
                <div class="spectrum-row"><span class="spectrum-label">Dental</span><div class="spectrum-track"><div class="spectrum-fill" id="c-bar-dental" style="width:0%;background:var(--water)"></div></div></div>
                <div class="spectrum-row"><span class="spectrum-label">Labial</span><div class="spectrum-track"><div class="spectrum-fill" id="c-bar-labial" style="width:0%;background:var(--earth)"></div></div></div>
            </div>
            <h2 style="margin-top:16px;font-size:0.95rem;">ЁЯФм Articulatory Features</h2>
            <div class="spectrum-bars">
                <div class="spectrum-row"><span class="spectrum-label">Nasal</span><div class="spectrum-track"><div class="spectrum-fill" id="c-bar-nasal" style="width:0%;background:var(--nasal)"></div></div></div>
                <div class="spectrum-row"><span class="spectrum-label">Voiced</span><div class="spectrum-track"><div class="spectrum-fill" id="c-bar-voiced" style="width:0%;background:var(--voiced)"></div></div></div>
                <div class="spectrum-row"><span class="spectrum-label">Aspirated</span><div class="spectrum-track"><div class="spectrum-fill" id="c-bar-aspirated" style="width:0%;background:var(--aspirated)"></div></div></div>
                <div class="spectrum-row"><span class="spectrum-label">Length</span><div class="spectrum-track"><div class="spectrum-fill" id="c-bar-length" style="width:0%;background:var(--length)"></div></div></div>
            </div>
            <div class="interpretation-box" id="corpusInterpretation" style="display:none;"></div>
        </div>

        <!-- Binary Rhythm Run-Length Analysis -->
        <div class="panel">
            <h2>ЁЯФв Binary Rhythm Pattern Analysis</h2>
            <p style="color:#64748b;font-size:0.82rem;margin-bottom:12px;">Run-length distribution of binary (L/G) motifs across all verses.</p>
            <div id="rhythmPatterns"></div>
            <div class="interpretation-box" id="rhythmInterpretation" style="display:none;"></div>
        </div>
    </div>

    <!-- Per-verse summary table -->
    <div class="panel" style="margin-top:24px;overflow-x:auto;">
        <h2>ЁЯУЛ Per-Verse Summary</h2>
        <table style="width:100%;border-collapse:collapse;font-size:0.88rem;">
            <thead>
                <tr style="border-bottom:2px solid #334155;">
                    <th style="padding:10px;text-align:left;color:var(--gold);">Verse</th>
                    <th style="padding:10px;text-align:center;color:var(--gold);">Syllables</th>
                    <th style="padding:10px;text-align:center;color:var(--gold);">Laghu</th>
                    <th style="padding:10px;text-align:center;color:var(--gold);">Guru</th>
                    <th style="padding:10px;text-align:center;color:var(--gold);">L:G</th>
                    <th style="padding:10px;text-align:center;color:var(--gold);">Meter</th>
                    <th style="padding:10px;text-align:center;color:var(--gold);">Dental %</th>
                    <th style="padding:10px;text-align:center;color:var(--gold);">Labial %</th>
                </tr>
            </thead>
            <tbody id="corpusTableBody"></tbody>
        </table>
    </div>
</div>

<div class="footer">
    ISCLS 2026 Demo ┬╖ Based on Piс╣Еgala's Chandaс╕е┼Ы─Бstra & P─Бс╣Зini's Aс╣гс╣н─Бdhy─Бy─л<br>
    <a href="https://ruhrpott.ai/">ruhrpott.ai</a>
</div>

<script>
// ============================================================
// DATA: 10 verses with Sanskrit, IAST, and word meanings
// ============================================================
const VERSES = [
  { id:1, sanskrit:"рд╡рд┐рд╢реНрд╡рдВ рд╡рд┐рд╖реНрдгреБрд░реНрд╡рд╖рдЯреНрдХрд╛рд░реЛ рднреВрддрднрд╡реНрдпрднрд╡рддреНрдкреНрд░рднреБрдГ ред\nрднреВрддрдХреГрджреНрднреВрддрднреГрджреНрднрд╛рд╡реЛ рднреВрддрд╛рддреНрдорд╛ рднреВрддрднрд╛рд╡рдирдГ рее резрее",
    meanings:[["vi┼Ыvaс╣Б","The Universe"],["viс╣гс╣Зuс╕е","The Pervader"],["vaс╣гaс╣нk─Бraс╕е","The Invocation"],["bh┼лta-bhavya-bhavat-prabhuс╕е","Lord of Past, Future, Present"],["bh┼лtakс╣Ыt","Creator of Beings"],["bh┼лtabhс╣Ыd","Sustainer of Beings"],["bh─Бvaс╕е","Becoming"],["bh┼лt─Бtm─Б","Soul of Beings"],["bh┼лtabh─Бvanaс╕е","Nourisher"]]},
  { id:2, sanskrit:"рдкреВрддрд╛рддреНрдорд╛ рдкрд░рдорд╛рддреНрдорд╛ рдЪ рдореБрдХреНрддрд╛рдирд╛рдВ рдкрд░рдорд╛ рдЧрддрд┐рдГ ред\nрдЕрд╡реНрдпрдпрдГ рдкреБрд░реБрд╖рдГ рд╕рд╛рдХреНрд╖реА рдХреНрд╖реЗрддреНрд░рдЬреНрдЮреЛрд╜рдХреНрд╖рд░ рдПрд╡ рдЪ рее реирее",
    meanings:[["p┼лt─Бtm─Б","Pure Self"],["param─Бtm─Б","Supreme Self"],["mukt─Бn─Бс╣Б param─Б gatiс╕е","Ultimate Goal of Liberated"],["avyayaс╕е","Imperishable"],["puruс╣гaс╕е","The Person"],["s─Бkс╣г─л","The Witness"],["kс╣гetraj├▒aс╕е","Knower of the Field"],["akс╣гara","Indestructible"]]},
  { id:3, sanskrit:"рдпреЛрдЧреЛ рдпреЛрдЧрд╡рд┐рджрд╛рдВ рдиреЗрддрд╛ рдкреНрд░рдзрд╛рдирдкреБрд░реБрд╖реЗрд╢реНрд╡рд░рдГ ред\nрдирд╛рд░рд╕рд┐рдВрд╣рд╡рдкреБрдГ рд╢реНрд░реАрдорд╛рдиреН рдХреЗрд╢рд╡рдГ рдкреБрд░реБрд╖реЛрддреНрддрдордГ рее рейрее",
    meanings:[["yogaс╕е","Union"],["yogavid─Бс╣Б net─Б","Leader of Knowers of Yoga"],["pradh─Бna-puruс╣гe┼Ыvaraс╕е","Lord of Matter & Spirit"],["n─Бrasiс╣Бhavapuс╕е","Man-Lion Form"],["┼Ыr─лm─Бn","Possessor of Glory"],["ke┼Ыavaс╕е","Slayer of Keshi"],["puruс╣гottamaс╕е","Supreme Person"]]},
  { id:4, sanskrit:"рд╕рд░реНрд╡рдГ рд╢рд░реНрд╡рдГ рд╢рд┐рд╡рдГ рд╕реНрдерд╛рдгреБрд░реНрднреВрддрд╛рджрд┐рд░реНрдирд┐рдзрд┐рд░рд╡реНрдпрдпрдГ ред\nрд╕рдореНрднрд╡реЛ рднрд╛рд╡рдиреЛ рднрд░реНрддрд╛ рдкреНрд░рднрд╡рдГ рдкреНрд░рднреБрд░реАрд╢реНрд╡рд░рдГ рее рекрее",
    meanings:[["sarvaс╕е","The All"],["┼Ыarvaс╕е","The Destroyer"],["┼Ыivaс╕е","The Auspicious One"],["sth─Бс╣Зuс╕е","The Firm / Immovable Pillar"],["bh┼лt─Бdiс╕е","Source of Elements"],["nidhiravyayaс╕е","Imperishable Treasure"]]},
  { id:5, sanskrit:"рд╕реНрд╡рдпрдореНрднреВрдГ рд╢рдореНрднреБрд░рд╛рджрд┐рддреНрдпрдГ рдкреБрд╖реНрдХрд░рд╛рдХреНрд╖реЛ рдорд╣рд╛рд╕реНрд╡рдирдГ ред\nрдЕрдирд╛рджрд┐рдирд┐рдзрдиреЛ рдзрд╛рддрд╛ рд╡рд┐рдзрд╛рддрд╛ рдзрд╛рддреБрд░реБрддреНрддрдордГ рее релрее",
    meanings:[["svayaс╣Бbh┼лс╕е","Self-Born"],["┼Ыaс╣Бbhuс╕е","Bestower of Happiness"],["─Бdityaс╕е","Son of Aditi / The Sun"],["puс╣гkar─Бkс╣гaс╕е","Lotus-Eyed"],["mah─Бsvanaс╕е","Great Sound"]]},
  { id:6, sanskrit:"рдЕрдкреНрд░рдореЗрдпреЛ рд╣реГрд╖реАрдХреЗрд╢рдГ рдкрджреНрдордирд╛рднреЛрд╜рдорд░рдкреНрд░рднреБрдГ ред\nрд╡рд┐рд╢реНрд╡рдХрд░реНрдорд╛ рдордиреБрд╕реНрддреНрд╡рд╖реНрдЯрд╛ рд╕реНрдерд╡рд┐рд╖реНрдардГ рд╕реНрдерд╡рд┐рд░реЛ рдзреНрд░реБрд╡рдГ рее ремрее",
    meanings:[["aprameyaс╕е","Immeasurable"],["hс╣Ыс╣г─лke┼Ыaс╕е","Master of Senses"],["padman─Бbhaс╕е","Lotus-Navel"],["amaraprabhuс╕е","Lord of Immortals"],["vi┼Ыvakarm─Б","Creator of Universe"],["manuс╕е","The Thinker"]]},
  { id:7, sanskrit:"рдЕрдЧреНрд░рд╛рд╣реНрдпрдГ рд╢рд╛рд╢реНрд╡рддрдГ рдХреГрд╖реНрдгреЛ рд▓реЛрд╣рд┐рддрд╛рдХреНрд╖рдГ рдкреНрд░рддрд░реНрджрдирдГ ред\nрдкреНрд░рднреВрддрд╕реНрддреНрд░рд┐рдХрдХреБрдмреНрдзрд╛рдо рдкрд╡рд┐рддреНрд░рдВ рдордЩреНрдЧрд▓рдВ рдкрд░рдореН рее ренрее",
    meanings:[["agr─Бhyaс╕е","Unknowable"],["┼Ы─Б┼Ыvataс╕е","Eternal"],["kс╣Ыс╣гс╣Зaс╕е","The Dark One"],["lohit─Бkс╣гaс╕е","Red-Eyed"],["pratardanaс╕е","The Destroyer"],["pavitram","The Pure"],["maс╣Еgalaс╣Б param","Supreme Auspiciousness"]]},
  { id:8, sanskrit:"рдИрд╢рд╛рдирдГ рдкреНрд░рд╛рдгрджрдГ рдкреНрд░рд╛рдгреЛ рдЬреНрдпреЗрд╖реНрдардГ рд╢реНрд░реЗрд╖реНрдардГ рдкреНрд░рдЬрд╛рдкрддрд┐рдГ ред\nрд╣рд┐рд░рдгреНрдпрдЧрд░реНрднреЛ рднреВрдЧрд░реНрднреЛ рдорд╛рдзрд╡реЛ рдордзреБрд╕реВрджрдирдГ рее реорее",
    meanings:[["─л┼Ы─Бnaс╕е","The Ruler"],["pr─Бс╣Зadaс╕е","Giver of Life-breath"],["pr─Бс╣Зaс╕е","The Life-force"],["jyeс╣гс╣нhaс╕е","The Eldest"],["┼Ыreс╣гс╣нhaс╕е","The Best"],["praj─Бpatiс╕е","Lord of Creatures"],["hiraс╣Зyagarbhaс╕е","Golden Womb"],["m─Бdhavaс╕е","Consort of Lakshmi"],["madhus┼лdanaс╕е","Slayer of Madhu"]]},
  { id:9, sanskrit:"рдИрд╢реНрд╡рд░реЛ рд╡рд┐рдХреНрд░рдореА рдзрдиреНрд╡реА рдореЗрдзрд╛рд╡реА рд╡рд┐рдХреНрд░рдордГ рдХреНрд░рдордГ ред\nрдЕрдиреБрддреНрддрдореЛ рджреБрд░рд╛рдзрд░реНрд╖рдГ рдХреГрддрдЬреНрдЮрдГ рдХреГрддрд┐рд░рд╛рддреНрдорд╡рд╛рдиреН рее репрее",
    meanings:[["─л┼Ыvaraс╕е","The Controller"],["vikram─л","The Valiant"],["dhanv─л","The Archer"],["medh─Бv─л","The Wise"],["vikramaс╕е","Prowess"],["kramaс╕е","Progression"],["anuttamaс╕е","The Unsurpassed"],["dur─Бdharс╣гaс╕е","The Invincible"],["kс╣Ыtaj├▒aс╕е","The Grateful"]]},
  { id:10, sanskrit:"рд╕реБрд░реЗрд╢рдГ рд╢рд░рдгрдВ рд╢рд░реНрдо рд╡рд┐рд╢реНрд╡рд░реЗрддрд╛рдГ рдкреНрд░рдЬрд╛рднрд╡рдГ ред\nрдЕрд╣рдГ рд╕рдВрд╡рддреНрд╕рд░реЛ рд╡реНрдпрд╛рд▓рдГ рдкреНрд░рддреНрдпрдпрдГ рд╕рд░реНрд╡рджрд░реНрд╢рдирдГ рее резрежрее",
    meanings:[["sure┼Ыaс╕е","Lord of the Gods"],["┼Ыaraс╣Зam","Refuge"],["┼Ыarma","Bliss"],["vi┼Ыvaret─Бс╕е","Seed of the Universe"],["praj─Бbhavaс╕е","Source of Beings"],["ahaс╕е","The Day"],["saс╣Бvatsaraс╕е","The Year"],["pratyayaс╕е","Conviction"],["sarvadar┼Ыanaс╕е","All-seeing"]]}
];

// ============================================================
// CORPUS: All 107 Vishnu Sahasranama stotram verses (text only)
// ============================================================
const CORPUS_VERSES = [
  {id:1, text:'рд╡рд┐рд╢реНрд╡рдВ рд╡рд┐рд╖реНрдгреБрд░реНрд╡рд╖рдЯреНрдХрд╛рд░реЛ рднреВрддрднрд╡реНрдпрднрд╡рддреНрдкреНрд░рднреБрдГ ред\nрднреВрддрдХреГрджреНрднреВрддрднреГрджреНрднрд╛рд╡реЛ рднреВрддрд╛рддреНрдорд╛ рднреВрддрднрд╛рд╡рдирдГ'},
  {id:2, text:'рдкреВрддрд╛рддреНрдорд╛ рдкрд░рдорд╛рддреНрдорд╛ рдЪ рдореБрдХреНрддрд╛рдирд╛рдВ рдкрд░рдорд╛ рдЧрддрд┐рдГ ред\nрдЕрд╡реНрдпрдпрдГ рдкреБрд░реБрд╖рдГ рд╕рд╛рдХреНрд╖реА рдХреНрд╖реЗрддреНрд░рдЬреНрдЮреЛрд╜рдХреНрд╖рд░ рдПрд╡ рдЪ'},
  {id:3, text:'рдпреЛрдЧреЛ рдпреЛрдЧрд╡рд┐рджрд╛рдВ рдиреЗрддрд╛ рдкреНрд░рдзрд╛рдирдкреБрд░реБрд╖реЗрд╢реНрд╡рд░рдГ ред\nрдирд╛рд░рд╕рд┐рдВрд╣рд╡рдкреБрдГ рд╢реНрд░реАрдорд╛рдиреН рдХреЗрд╢рд╡рдГ рдкреБрд░реБрд╖реЛрддреНрддрдордГ'},
  {id:4, text:'рд╕рд░реНрд╡рдГ рд╢рд░реНрд╡рдГ рд╢рд┐рд╡рдГ рд╕реНрдерд╛рдгреБрд░реНрднреВрддрд╛рджрд┐рд░реНрдирд┐рдзрд┐рд░рд╡реНрдпрдпрдГ ред\nрд╕рдореНрднрд╡реЛ рднрд╛рд╡рдиреЛ рднрд░реНрддрд╛ рдкреНрд░рднрд╡рдГ рдкреНрд░рднреБрд░реАрд╢реНрд╡рд░рдГ'},
  {id:5, text:'рд╕реНрд╡рдпрдореНрднреВрдГ рд╢рдореНрднреБрд░рд╛рджрд┐рддреНрдпрдГ рдкреБрд╖реНрдХрд░рд╛рдХреНрд╖реЛ рдорд╣рд╛рд╕реНрд╡рдирдГ ред\nрдЕрдирд╛рджрд┐рдирд┐рдзрдиреЛ рдзрд╛рддрд╛ рд╡рд┐рдзрд╛рддрд╛ рдзрд╛рддреБрд░реБрддреНрддрдордГ'},
  {id:6, text:'рдЕрдкреНрд░рдореЗрдпреЛ рд╣реГрд╖реАрдХреЗрд╢рдГ рдкрджреНрдордирд╛рднреЛрд╜рдорд░рдкреНрд░рднреБрдГ ред\nрд╡рд┐рд╢реНрд╡рдХрд░реНрдорд╛ рдордиреБрд╕реНрддреНрд╡рд╖реНрдЯрд╛ рд╕реНрдерд╡рд┐рд╖реНрдардГ рд╕реНрдерд╡рд┐рд░реЛ рдзреНрд░реБрд╡рдГ'},
  {id:7, text:'рдЕрдЧреНрд░рд╛рд╣реНрдпрдГ рд╢рд╛рд╢реНрд╡рддрдГ рдХреГрд╖реНрдгреЛ рд▓реЛрд╣рд┐рддрд╛рдХреНрд╖рдГ рдкреНрд░рддрд░реНрджрдирдГ ред\nрдкреНрд░рднреВрддрд╕реНрддреНрд░рд┐рдХрдХреБрдмреНрдзрд╛рдо рдкрд╡рд┐рддреНрд░рдВ рдордЩреНрдЧрд▓рдВ рдкрд░рдореН'},
  {id:8, text:'рдИрд╢рд╛рдирдГ рдкреНрд░рд╛рдгрджрдГ рдкреНрд░рд╛рдгреЛ рдЬреНрдпреЗрд╖реНрдардГ рд╢реНрд░реЗрд╖реНрдардГ рдкреНрд░рдЬрд╛рдкрддрд┐рдГ ред\nрд╣рд┐рд░рдгреНрдпрдЧрд░реНрднреЛ рднреВрдЧрд░реНрднреЛ рдорд╛рдзрд╡реЛ рдордзреБрд╕реВрджрдирдГ'},
  {id:9, text:'рдИрд╢реНрд╡рд░реЛ рд╡рд┐рдХреНрд░рдореА рдзрдиреНрд╡реА рдореЗрдзрд╛рд╡реА рд╡рд┐рдХреНрд░рдордГ рдХреНрд░рдордГ ред\nрдЕрдиреБрддреНрддрдореЛ рджреБрд░рд╛рдзрд░реНрд╖рдГ рдХреГрддрдЬреНрдЮрдГ рдХреГрддрд┐рд░рд╛рддреНрдорд╡рд╛рдиреН'},
  {id:10, text:'рд╕реБрд░реЗрд╢рдГ рд╢рд░рдгрдВ рд╢рд░реНрдо рд╡рд┐рд╢реНрд╡рд░реЗрддрд╛рдГ рдкреНрд░рдЬрд╛рднрд╡рдГ ред\nрдЕрд╣рдГ рд╕рдВрд╡рддреНрд╕рд░реЛ рд╡реНрдпрд╛рд▓рдГ рдкреНрд░рддреНрдпрдпрдГ рд╕рд░реНрд╡рджрд░реНрд╢рдирдГ'},
  {id:11, text:'рдЕрдЬрдГ рд╕рд░реНрд╡реЗрд╢реНрд╡рд░рдГ рд╕рд┐рджреНрдзрдГ рд╕рд┐рджреНрдзрд┐рдГ рд╕рд░реНрд╡рд╛рджрд┐рд░рдЪреНрдпреБрддрдГ ред\nрд╡реГрд╖рд╛рдХрдкрд┐рд░рдореЗрдпрд╛рддреНрдорд╛ рд╕рд░реНрд╡рдпреЛрдЧрд╡рд┐рдирд┐рдГрд╕реГрддрдГ'},
  {id:12, text:'рд╡рд╕реБрд░реНрд╡рд╕реБрдордирд╛рдГ рд╕рддреНрдпрдГ рд╕рдорд╛рддреНрдорд╛рд╜рд╕рдореНрдорд┐рддрдГ рд╕рдордГ ред\nрдЕрдореЛрдШрдГ рдкреБрдгреНрдбрд░реАрдХрд╛рдХреНрд╖реЛ рд╡реГрд╖рдХрд░реНрдорд╛ рд╡реГрд╖рд╛рдХреГрддрд┐рдГ'},
  {id:13, text:'рд░реБрджреНрд░реЛ рдмрд╣реБрд╢рд┐рд░рд╛ рдмрднреНрд░реБрд░реНрд╡рд┐рд╢реНрд╡рдпреЛрдирд┐рдГ рд╢реБрдЪрд┐рд╢реНрд░рд╡рд╛рдГ ред\nрдЕрдореГрддрдГ рд╢рд╛рд╢реНрд╡рддрд╕реНрдерд╛рдгреБрд░реНрд╡рд░рд╛рд░реЛрд╣реЛ рдорд╣рд╛рддрдкрд╛рдГ'},
  {id:14, text:'рд╕рд░реНрд╡рдЧрдГ рд╕рд░реНрд╡рд╡рд┐рджреНрднрд╛рдиреБрд░реНрд╡рд┐рд╖реНрд╡рдХреНрд╕реЗрдиреЛ рдЬрдирд╛рд░реНрджрдирдГ ред\nрд╡реЗрджреЛ рд╡реЗрджрд╡рд┐рджрд╡реНрдпрдЩреНрдЧреЛ рд╡реЗрджрд╛рдЩреНрдЧреЛ рд╡реЗрджрд╡рд┐рддреН рдХрд╡рд┐рдГ'},
  {id:15, text:'рд▓реЛрдХрд╛рдзреНрдпрдХреНрд╖рдГ рд╕реБрд░рд╛рдзреНрдпрдХреНрд╖реЛ рдзрд░реНрдорд╛рдзреНрдпрдХреНрд╖рдГ рдХреГрддрд╛рдХреГрддрдГ ред\nрдЪрддреБрд░рд╛рддреНрдорд╛ рдЪрддреБрд░реНрд╡реНрдпреВрд╣рд╢реНрдЪрддреБрд░реНрджрдВрд╖реНрдЯреНрд░рд╢реНрдЪрддреБрд░реНрднреБрдЬрдГ'},
  {id:16, text:'рднреНрд░рд╛рдЬрд┐рд╖реНрдгреБрд░реНрднреЛрдЬрдирдВ рднреЛрдХреНрддрд╛ рд╕рд╣рд┐рд╖реНрдгреБрд░реНрдЬрдЧрджрд╛рджрд┐рдЬрдГ ред\nрдЕрдирдШреЛ рд╡рд┐рдЬрдпреЛ рдЬреЗрддрд╛ рд╡рд┐рд╢реНрд╡рдпреЛрдирд┐рдГ рдкреБрдирд░реНрд╡рд╕реБрдГ'},
  {id:17, text:'рдЙрдкреЗрдиреНрджреНрд░реЛ рд╡рд╛рдордирдГ рдкреНрд░рд╛рдВрд╢реБрд░рдореЛрдШрдГ рд╢реБрдЪрд┐рд░реВрд░реНрдЬрд┐рддрдГ ред\nрдЕрддреАрдиреНрджреНрд░рдГ рд╕рдЩреНрдЧреНрд░рд╣рдГ рд╕рд░реНрдЧреЛ рдзреГрддрд╛рддреНрдорд╛ рдирд┐рдпрдореЛ рдпрдордГ'},
  {id:18, text:'рд╡реЗрджреНрдпреЛ рд╡реИрджреНрдпрдГ рд╕рджрд╛рдпреЛрдЧреА рд╡реАрд░рд╣рд╛ рдорд╛рдзрд╡реЛ рдордзреБрдГ ред\nрдЕрддреАрдиреНрджреНрд░рд┐рдпреЛ рдорд╣рд╛рдорд╛рдпреЛ рдорд╣реЛрддреНрд╕рд╛рд╣реЛ рдорд╣рд╛рдмрд▓рдГ'},
  {id:19, text:'рдорд╣рд╛рдмреБрджреНрдзрд┐рд░реНрдорд╣рд╛рд╡реАрд░реНрдпреЛ рдорд╣рд╛рд╢рдХреНрддрд┐рд░реНрдорд╣рд╛рджреНрдпреБрддрд┐рдГ ред\nрдЕрдирд┐рд░реНрджреЗрд╢реНрдпрд╡рдкреБрдГ рд╢реНрд░реАрдорд╛рдирдореЗрдпрд╛рддреНрдорд╛ рдорд╣рд╛рджреНрд░рд┐рдзреГрдХреН'},
  {id:20, text:'рдорд╣реЗрд╖реНрд╡рд╛рд╕реЛ рдорд╣реАрднрд░реНрддрд╛ рд╢реНрд░реАрдирд┐рд╡рд╛рд╕рдГ рд╕рддрд╛рдВ рдЧрддрд┐рдГ ред\nрдЕрдирд┐рд░реБрджреНрдзрдГ рд╕реБрд░рд╛рдирдиреНрджреЛ рдЧреЛрд╡рд┐рдиреНрджреЛ рдЧреЛрд╡рд┐рджрд╛рдВ рдкрддрд┐рдГ'},
  {id:21, text:'рдорд░реАрдЪрд┐рд░реНрджрдордиреЛ рд╣рдВрд╕рдГ рд╕реБрдкрд░реНрдгреЛ рднреБрдЬрдЧреЛрддреНрддрдордГ ред\nрд╣рд┐рд░рдгреНрдпрдирд╛рднрдГ рд╕реБрддрдкрд╛рдГ рдкрджреНрдордирд╛рднрдГ рдкреНрд░рдЬрд╛рдкрддрд┐рдГ'},
  {id:22, text:'рдЕрдореГрддреНрдпреБрдГ рд╕рд░реНрд╡рджреГрдХреН рд╕рд┐рдВрд╣рдГ рд╕рдиреНрдзрд╛рддрд╛ рд╕рдиреНрдзрд┐рдорд╛рдиреН рд╕реНрдерд┐рд░рдГ ред\nрдЕрдЬреЛ рджреБрд░реНрдорд░реНрд╖рдгрдГ рд╢рд╛рд╕реНрддрд╛ рд╡рд┐рд╢реНрд░реБрддрд╛рддреНрдорд╛ рд╕реБрд░рд╛рд░рд┐рд╣рд╛'},
  {id:23, text:'рдЧреБрд░реБрд░реНрдЧреБрд░реБрддрдореЛ рдзрд╛рдо рд╕рддреНрдпрдГ рд╕рддреНрдпрдкрд░рд╛рдХреНрд░рдордГ ред\nрдирд┐рдорд┐рд╖реЛрд╜рдирд┐рдорд┐рд╖рдГ рд╕реНрд░рдЧреНрд╡реА рд╡рд╛рдЪрд╕реНрдкрддрд┐рд░реБрджрд╛рд░рдзреАрдГ'},
  {id:24, text:'рдЕрдЧреНрд░рдгреАрд░реНрдЧреНрд░рд╛рдордгреАрдГ рд╢реНрд░реАрдорд╛рдиреН рдиреНрдпрд╛рдпреЛ рдиреЗрддрд╛ рд╕рдореАрд░рдгрдГ ред\nрд╕рд╣рд╕реНрд░рдореВрд░реНрдзрд╛ рд╡рд┐рд╢реНрд╡рд╛рддреНрдорд╛ рд╕рд╣рд╕реНрд░рд╛рдХреНрд╖рдГ рд╕рд╣рд╕реНрд░рдкрд╛рддреН'},
  {id:25, text:'рдЖрд╡рд░реНрддрдиреЛ рдирд┐рд╡реГрддреНрддрд╛рддреНрдорд╛ рд╕рдВрд╡реГрддрдГ рд╕рдореНрдкреНрд░рдорд░реНрджрдирдГ ред\nрдЕрд╣рдГ рд╕рдВрд╡рд░реНрддрдХреЛ рд╡рд╣реНрдирд┐рд░рдирд┐рд▓реЛ рдзрд░рдгреАрдзрд░рдГ'},
  {id:26, text:'рд╕реБрдкреНрд░рд╕рд╛рджрдГ рдкреНрд░рд╕рдиреНрдирд╛рддреНрдорд╛ рд╡рд┐рд╢реНрд╡рдзреГрдЧреНрд╡рд┐рд╢реНрд╡рднреБрдЧреНрд╡рд┐рднреБрдГ ред\nрд╕рддреНрдХрд░реНрддрд╛ рд╕рддреНрдХреГрддрдГ рд╕рд╛рдзреБрд░реНрдЬрд╣реНрдиреБрд░реНрдирд╛рд░рд╛рдпрдгреЛ рдирд░рдГ'},
  {id:27, text:'рдЕрд╕рдЩреНрдЦреНрдпреЗрдпреЛрд╜рдкреНрд░рдореЗрдпрд╛рддреНрдорд╛ рд╡рд┐рд╢рд┐рд╖реНрдЯрдГ рд╢рд┐рд╖реНрдЯрдХреГрдЪреНрдЫреБрдЪрд┐рдГ ред\nрд╕рд┐рджреНрдзрд╛рд░реНрдердГ рд╕рд┐рджреНрдзрд╕рдЩреНрдХрд▓реНрдкрдГ рд╕рд┐рджреНрдзрд┐рджрдГ рд╕рд┐рджреНрдзрд┐рд╕рд╛рдзрдирдГ'},
  {id:28, text:'рд╡реГрд╖рд╛рд╣реА рд╡реГрд╖рднреЛ рд╡рд┐рд╖реНрдгреБрд░реНрд╡реГрд╖рдкрд░реНрд╡рд╛ рд╡реГрд╖реЛрджрд░рдГ ред\nрд╡рд░реНрдзрдиреЛ рд╡рд░реНрдзрдорд╛рдирд╢реНрдЪ рд╡рд┐рд╡рд┐рдХреНрддрдГ рд╢реНрд░реБрддрд┐рд╕рд╛рдЧрд░рдГ'},
  {id:29, text:'рд╕реБрднреБрдЬреЛ рджреБрд░реНрдзрд░реЛ рд╡рд╛рдЧреНрдореА рдорд╣реЗрдиреНрджреНрд░реЛ рд╡рд╕реБрджреЛ рд╡рд╕реБрдГ ред\nрдиреИрдХрд░реВрдкреЛ рдмреГрд╣рджреНрд░реВрдкрдГ рд╢рд┐рдкрд┐рд╡рд┐рд╖реНрдЯрдГ рдкреНрд░рдХрд╛рд╢рдирдГ'},
  {id:30, text:'рдУрдЬрд╕реНрддреЗрдЬреЛрджреНрдпреБрддрд┐рдзрд░рдГ рдкреНрд░рдХрд╛рд╢рд╛рддреНрдорд╛ рдкреНрд░рддрд╛рдкрдирдГ ред\nрдЛрджреНрдзрдГ рд╕реНрдкрд╖реНрдЯрд╛рдХреНрд╖рд░реЛ рдордиреНрддреНрд░рд╢реНрдЪрдиреНрджреНрд░рд╛рдВрд╢реБрд░реНрднрд╛рд╕реНрдХрд░рджреНрдпреБрддрд┐рдГ'},
  {id:31, text:'рдЕрдореГрддрд╛рдВрд╢реВрджреНрднрд╡реЛ рднрд╛рдиреБрдГ рд╢рд╢рдмрд┐рдиреНрджреБрдГ рд╕реБрд░реЗрд╢реНрд╡рд░рдГ ред\nрдФрд╖рдзрдВ рдЬрдЧрддрдГ рд╕реЗрддреБрдГ рд╕рддреНрдпрдзрд░реНрдордкрд░рд╛рдХреНрд░рдордГ'},
  {id:32, text:'рднреВрддрднрд╡реНрдпрднрд╡рдиреНрдирд╛рдердГ рдкрд╡рдирдГ рдкрд╛рд╡рдиреЛрд╜рдирд▓рдГ ред\nрдХрд╛рдорд╣рд╛ рдХрд╛рдордХреГрддреНрдХрд╛рдиреНрддрдГ рдХрд╛рдордГ рдХрд╛рдордкреНрд░рджрдГ рдкреНрд░рднреБрдГ'},
  {id:33, text:'рдпреБрдЧрд╛рджрд┐рдХреГрджреНрдпреБрдЧрд╛рд╡рд░реНрддреЛ рдиреИрдХрдорд╛рдпреЛ рдорд╣рд╛рд╢рдирдГ ред\nрдЕрджреГрд╢реНрдпреЛ рд╡реНрдпрдХреНрддрд░реВрдкрд╢реНрдЪ рд╕рд╣рд╕реНрд░рдЬрд┐рджрдирдиреНрддрдЬрд┐рддреН'},
  {id:34, text:'рдЗрд╖реНрдЯреЛрд╜рд╡рд┐рд╢рд┐рд╖реНрдЯрдГ рд╢рд┐рд╖реНрдЯреЗрд╖реНрдЯрдГ рд╢рд┐рдЦрдгреНрдбреА рдирд╣реБрд╖реЛ рд╡реГрд╖рдГ ред\nрдХреНрд░реЛрдзрд╣рд╛ рдХреНрд░реЛрдзрдХреГрддреНрдХрд░реНрддрд╛ рд╡рд┐рд╢реНрд╡рдмрд╛рд╣реБрд░реНрдорд╣реАрдзрд░рдГ'},
  {id:35, text:'рдЕрдЪреНрдпреБрддрдГ рдкреНрд░рдерд┐рддрдГ рдкреНрд░рд╛рдгрдГ рдкреНрд░рд╛рдгрджреЛ рд╡рд╛рд╕рд╡рд╛рдиреБрдЬрдГ ред\nрдЕрдкрд╛рдВрдирд┐рдзрд┐рд░рдзрд┐рд╖реНрдард╛рдирдордкреНрд░рдорддреНрддрдГ рдкреНрд░рддрд┐рд╖реНрдард┐рддрдГ'},
  {id:36, text:'рд╕реНрдХрдиреНрджрдГ рд╕реНрдХрдиреНрджрдзрд░реЛ рдзреБрд░реНрдпреЛ рд╡рд░рджреЛ рд╡рд╛рдпреБрд╡рд╛рд╣рдирдГ ред\nрд╡рд╛рд╕реБрджреЗрд╡реЛ рдмреГрд╣рджреНрднрд╛рдиреБрд░рд╛рджрд┐рджреЗрд╡рдГ рдкреБрд░рдиреНрджрд░рдГ'},
  {id:37, text:'рдЕрд╢реЛрдХрд╕реНрддрд╛рд░рдгрд╕реНрддрд╛рд░рдГ рд╢реВрд░рдГ рд╢реМрд░рд┐рд░реНрдЬрдиреЗрд╢реНрд╡рд░рдГ ред\nрдЕрдиреБрдХреВрд▓рдГ рд╢рддрд╛рд╡рд░реНрддрдГ рдкрджреНрдореА рдкрджреНрдордирд┐рднреЗрдХреНрд╖рдгрдГ'},
  {id:38, text:'рдкрджреНрдордирд╛рднреЛрд╜рд░рд╡рд┐рдиреНрджрд╛рдХреНрд╖рдГ рдкрджреНрдордЧрд░реНрднрдГ рд╢рд░реАрд░рднреГрддреН ред\nрдорд╣рд░реНрджреНрдзрд┐рд░реГрджреНрдзреЛ рд╡реГрджреНрдзрд╛рддреНрдорд╛ рдорд╣рд╛рдХреНрд╖реЛ рдЧрд░реБрдбрдзреНрд╡рдЬрдГ'},
  {id:39, text:'рдЕрддреБрд▓рдГ рд╢рд░рднреЛ рднреАрдордГ рд╕рдордпрдЬреНрдЮреЛ рд╣рд╡рд┐рд░реНрд╣рд░рд┐рдГ ред\nрд╕рд░реНрд╡рд▓рдХреНрд╖рдгрд▓рдХреНрд╖рдгреНрдпреЛ рд▓рдХреНрд╖реНрдореАрд╡рд╛рдиреН рд╕рдорд┐рддрд┐рдЮреНрдЬрдпрдГ'},
  {id:40, text:'рд╡рд┐рдХреНрд╖рд░реЛ рд░реЛрд╣рд┐рддреЛ рдорд╛рд░реНрдЧреЛ рд╣реЗрддреБрд░реНрджрд╛рдореЛрджрд░рдГ рд╕рд╣рдГ ред\nрдорд╣реАрдзрд░реЛ рдорд╣рд╛рднрд╛рдЧреЛ рд╡реЗрдЧрд╡рд╛рдирдорд┐рддрд╛рд╢рдирдГ'},
  {id:41, text:'рдЙрджреНрднрд╡рдГ рдХреНрд╖реЛрднрдгреЛ рджреЗрд╡рдГ рд╢реНрд░реАрдЧрд░реНрднрдГ рдкрд░рдореЗрд╢реНрд╡рд░рдГ ред\nрдХрд░рдгрдВ рдХрд╛рд░рдгрдВ рдХрд░реНрддрд╛ рд╡рд┐рдХрд░реНрддрд╛ рдЧрд╣рдиреЛ рдЧреБрд╣рдГ'},
  {id:42, text:'рд╡реНрдпрд╡рд╕рд╛рдпреЛ рд╡реНрдпрд╡рд╕реНрдерд╛рдирдГ рд╕рдВрд╕реНрдерд╛рдирдГ рд╕реНрдерд╛рдирджреЛ рдзреНрд░реБрд╡рдГ ред\nрдкрд░рд░реНрджреНрдзрд┐рдГ рдкрд░рдорд╕реНрдкрд╖реНрдЯрд╕реНрддреБрд╖реНрдЯрдГ рдкреБрд╖реНрдЯрдГ рд╢реБрднреЗрдХреНрд╖рдгрдГ'},
  {id:43, text:'рд░рд╛рдореЛ рд╡рд┐рд░рд╛рдореЛ рд╡рд┐рд░рдЬреЛ рдорд╛рд░реНрдЧреЛ рдиреЗрдпреЛ рдирдпреЛрд╜рдирдпрдГ ред \nрд╡реАрд░рдГ рд╢рдХреНрддрд┐рдорддрд╛рдВ рд╢реНрд░реЗрд╖реНрдареЛ рдзрд░реНрдореЛ рдзрд░реНрдорд╡рд┐рджреБрддреНрддрдордГ'},
  {id:44, text:'рд╡реИрдХреБрдгреНрдардГ рдкреБрд░реБрд╖рдГ рдкреНрд░рд╛рдгрдГ рдкреНрд░рд╛рдгрджрдГ рдкреНрд░рдгрд╡рдГ рдкреГрдереБрдГ ред\nрд╣рд┐рд░рдгреНрдпрдЧрд░реНрднрдГ рд╢рддреНрд░реБрдШреНрдиреЛ рд╡реНрдпрд╛рдкреНрддреЛ рд╡рд╛рдпреБрд░рдзреЛрдХреНрд╖рдЬрдГ'},
  {id:45, text:'рдЛрддреБрдГ рд╕реБрджрд░реНрд╢рдирдГ рдХрд╛рд▓рдГ рдкрд░рдореЗрд╖реНрдареА рдкрд░рд┐рдЧреНрд░рд╣рдГ ред\nрдЙрдЧреНрд░рдГ рд╕рдВрд╡рддреНрд╕рд░реЛ рджрдХреНрд╖реЛ рд╡рд┐рд╢реНрд░рд╛рдореЛ рд╡рд┐рд╢реНрд╡рджрдХреНрд╖рд┐рдгрдГ'},
  {id:46, text:'рд╡рд┐рд╕реНрддрд╛рд░рдГ рд╕реНрдерд╛рд╡рд░рд╕реНрдерд╛рдгреБрдГ рдкреНрд░рдорд╛рдгрдВ рдмреАрдЬрдорд╡реНрдпрдпрдореН ред\nрдЕрд░реНрдереЛрд╜рдирд░реНрдереЛ рдорд╣рд╛рдХреЛрд╢реЛ рдорд╣рд╛рднреЛрдЧреЛ рдорд╣рд╛рдзрдирдГ'},
  {id:47, text:'рдЕрдирд┐рд░реНрд╡рд┐рдгреНрдгрдГ рд╕реНрдерд╡рд┐рд╖реНрдареЛрд╜рднреВрд░реНрдзрд░реНрдордпреВрдкреЛ рдорд╣рд╛рдордЦрдГ ред\nрдирдХреНрд╖рддреНрд░рдиреЗрдорд┐рд░реНрдирдХреНрд╖рддреНрд░реА рдХреНрд╖рдордГ рдХреНрд╖рд╛рдордГ рд╕рдореАрд╣рдирдГ'},
  {id:48, text:'рдпрдЬреНрдЮ рдЗрдЬреНрдпреЛ рдорд╣реЗрдЬреНрдпрд╢реНрдЪ рдХреНрд░рддреБрдГ рд╕рддреНрд░рдВ рд╕рддрд╛рдВ рдЧрддрд┐рдГ ред\nрд╕рд░реНрд╡рджрд░реНрд╢реА рд╡рд┐рдореБрдХреНрддрд╛рддреНрдорд╛ рд╕рд░реНрд╡рдЬреНрдЮреЛ рдЬреНрдЮрд╛рдирдореБрддреНрддрдордореН'},
  {id:49, text:'рд╕реБрд╡реНрд░рддрдГ рд╕реБрдореБрдЦрдГ рд╕реВрдХреНрд╖реНрдордГ рд╕реБрдШреЛрд╖рдГ рд╕реБрдЦрджрдГ рд╕реБрд╣реГрддреН ред\nрдордиреЛрд╣рд░реЛ рдЬрд┐рддрдХреНрд░реЛрдзреЛ рд╡реАрд░рдмрд╛рд╣реБрд░реНрд╡рд┐рджрд╛рд░рдгрдГ'},
  {id:50, text:'рд╕реНрд╡рд╛рдкрдирдГ рд╕реНрд╡рд╡рд╢реЛ рд╡реНрдпрд╛рдкреА рдиреИрдХрд╛рддреНрдорд╛ рдиреИрдХрдХрд░реНрдордХреГрддреН ред\nрд╡рддреНрд╕рд░реЛ рд╡рддреНрд╕рд▓реЛ рд╡рддреНрд╕реА рд░рддреНрдирдЧрд░реНрднреЛ рдзрдиреЗрд╢реНрд╡рд░рдГ'},
  {id:51, text:'рдзрд░реНрдордЧреБрдмреНрдзрд░реНрдордХреГрджреНрдзрд░реНрдореА рд╕рджрд╕рддреНрдХреНрд╖рд░рдордХреНрд╖рд░рдореН ред\nрдЕрд╡рд┐рдЬреНрдЮрд╛рддрд╛ рд╕рд╣рд╕реНрд░рд╛рдВрд╢реБрд░реНрд╡рд┐рдзрд╛рддрд╛ рдХреГрддрд▓рдХреНрд╖рдгрдГ'},
  {id:52, text:'рдЧрднрд╕реНрддрд┐рдиреЗрдорд┐рдГ рд╕рддреНрддреНрд╡рд╕реНрдердГ рд╕рд┐рдВрд╣реЛ рднреВрддрдорд╣реЗрд╢реНрд╡рд░рдГ ред\nрдЖрджрд┐рджреЗрд╡реЛ рдорд╣рд╛рджреЗрд╡реЛ рджреЗрд╡реЗрд╢реЛ рджреЗрд╡рднреГрджреНрдЧреБрд░реБрдГ'},
  {id:53, text:'рдЙрддреНрддрд░реЛ рдЧреЛрдкрддрд┐рд░реНрдЧреЛрдкреНрддрд╛ рдЬреНрдЮрд╛рдирдЧрдореНрдпрдГ рдкреБрд░рд╛рддрдирдГ ред\nрд╢рд░реАрд░рднреВрддрднреГрджреНрднреЛрдХреНрддрд╛ рдХрдкреАрдиреНрджреНрд░реЛ рднреВрд░рд┐рджрдХреНрд╖рд┐рдгрдГ'},
  {id:54, text:'рд╕реЛрдордкреЛрд╜рдореГрддрдкрдГ рд╕реЛрдордГ рдкреБрд░реБрдЬрд┐рддреНрдкреБрд░реБрд╕рддреНрддрдордГ ред\nрд╡рд┐рдирдпреЛ рдЬрдпрдГ рд╕рддреНрдпрд╕рдиреНрдзреЛ рджрд╛рд╢рд╛рд░реНрд╣рдГ рд╕рд╛рддреНрд╡рддрд╛рдореНрдкрддрд┐рдГ'},
  {id:55, text:'рдЬреАрд╡реЛ рд╡рд┐рдирдпрд┐рддрд╛ рд╕рд╛рдХреНрд╖реА рдореБрдХреБрдиреНрджреЛрд╜рдорд┐рддрд╡рд┐рдХреНрд░рдордГ ред\nрдЕрдореНрднреЛрдирд┐рдзрд┐рд░рдирдиреНрддрд╛рддреНрдорд╛ рдорд╣реЛрджрдзрд┐рд╢рдпреЛрд╜рдиреНрддрдХрдГ'},
  {id:56, text:'рдЕрдЬреЛ рдорд╣рд╛рд░реНрд╣рдГ рд╕реНрд╡рд╛рднрд╛рд╡реНрдпреЛ рдЬрд┐рддрд╛рдорд┐рддреНрд░рдГ рдкреНрд░рдореЛрджрдирдГ ред\nрдЖрдирдиреНрджреЛ рдирдиреНрджрдиреЛ рдирдиреНрджрдГ рд╕рддреНрдпрдзрд░реНрдорд╛ рддреНрд░рд┐рд╡рд┐рдХреНрд░рдордГ'},
  {id:57, text:'рдорд╣рд░реНрд╖рд┐рдГ рдХрдкрд┐рд▓рд╛рдЪрд╛рд░реНрдпрдГ рдХреГрддрдЬреНрдЮреЛ рдореЗрджрд┐рдиреАрдкрддрд┐рдГ ред\nрддреНрд░рд┐рдкрджрд╕реНрддреНрд░рд┐рджрд╢рд╛рдзреНрдпрдХреНрд╖реЛ рдорд╣рд╛рд╢тАНреГрдЩреНрдЧрдГ рдХреГрддрд╛рдиреНрддрдХреГрддреН'},
  {id:58, text:'рдорд╣рд╛рд╡рд░рд╛рд╣реЛ рдЧреЛрд╡рд┐рдиреНрджрдГ рд╕реБрд╖реЗрдгрдГ рдХрдирдХрд╛рдЩреНрдЧрджреА ред\nрдЧреБрд╣реНрдпреЛ рдЧрднреАрд░реЛ рдЧрд╣рдиреЛ рдЧреБрдкреНрддрд╢реНрдЪрдХреНрд░рдЧрджрд╛рдзрд░рдГ'},
  {id:59, text:'рд╡реЗрдзрд╛рдГ рд╕реНрд╡рд╛рдЩреНрдЧреЛрд╜рдЬрд┐рддрдГ рдХреГрд╖реНрдгреЛ рджреГрдврдГ рд╕рдЩреНрдХрд░реНрд╖рдгреЛрд╜рдЪреНрдпреБрддрдГ ред\nрд╡рд░реБрдгреЛ рд╡рд╛рд░реБрдгреЛ рд╡реГрдХреНрд╖рдГ рдкреБрд╖реНрдХрд░рд╛рдХреНрд╖реЛ рдорд╣рд╛рдордирд╛рдГ'},
  {id:60, text:'рднрдЧрд╡рд╛рдиреН рднрдЧрд╣рд╛рд╜рд╜рдирдиреНрджреА рд╡рдирдорд╛рд▓реА рд╣рд▓рд╛рдпреБрдзрдГ ред\nрдЖрджрд┐рддреНрдпреЛ рдЬреНрдпреЛрддрд┐рд░рд╛рджрд┐рддреНрдпрдГ рд╕рд╣рд┐рд╖реНрдгреБрд░реНрдЧрддрд┐рд╕рддреНрддрдордГ'},
  {id:61, text:'рд╕реБрдзрдиреНрд╡рд╛ рдЦрдгреНрдбрдкрд░рд╢реБрд░реНрджрд╛рд░реБрдгреЛ рджреНрд░рд╡рд┐рдгрдкреНрд░рджрдГ ред\nрджрд┐рд╡рд╕реНрдкреГрдХреН рд╕рд░реНрд╡рджреГрдЧреНрд╡реНрдпрд╛рд╕реЛ рд╡рд╛рдЪрд╕реНрдкрддрд┐рд░рдпреЛрдирд┐рдЬрдГ'},
  {id:62, text:'рддреНрд░рд┐рд╕рд╛рдорд╛ рд╕рд╛рдордЧрдГ рд╕рд╛рдо рдирд┐рд░реНрд╡рд╛рдгрдВ рднреЗрд╖рдЬрдВ рднрд┐рд╖рдХреН ред\nрд╕рдВрдиреНрдпрд╛рд╕рдХреГрдЪреНрдЫрдордГ рд╢рд╛рдиреНрддреЛ рдирд┐рд╖реНрдард╛ рд╢рд╛рдиреНрддрд┐рдГ рдкрд░рд╛рдпрдгрдореН'},
  {id:63, text:'рд╢реБрднрд╛рдЩреНрдЧрдГ рд╢рд╛рдиреНрддрд┐рджрдГ рд╕реНрд░рд╖реНрдЯрд╛ рдХреБрдореБрджрдГ рдХреБрд╡рд▓реЗрд╢рдпрдГ ред\nрдЧреЛрд╣рд┐рддреЛ рдЧреЛрдкрддрд┐рд░реНрдЧреЛрдкреНрддрд╛ рд╡реГрд╖рднрд╛рдХреНрд╖реЛ рд╡реГрд╖рдкреНрд░рд┐рдпрдГ'},
  {id:64, text:'рдЕрдирд┐рд╡рд░реНрддреА рдирд┐рд╡реГрддреНрддрд╛рддреНрдорд╛ рд╕рдЩреНрдХреНрд╖реЗрдкреНрддрд╛ рдХреНрд╖реЗрдордХреГрдЪреНрдЫрд┐рд╡рдГ ред\nрд╢реНрд░реАрд╡рддреНрд╕рд╡рдХреНрд╖рд╛рдГ рд╢реНрд░реАрд╡рд╛рд╕рдГ рд╢реНрд░реАрдкрддрд┐рдГ рд╢реНрд░реАрдорддрд╛рдВрд╡рд░рдГ'},
  {id:65, text:'рд╢реНрд░реАрджрдГ рд╢реНрд░реАрд╢рдГ рд╢реНрд░реАрдирд┐рд╡рд╛рд╕рдГ рд╢реНрд░реАрдирд┐рдзрд┐рдГ рд╢реНрд░реАрд╡рд┐рднрд╛рд╡рдирдГ ред\nрд╢реНрд░реАрдзрд░рдГ рд╢реНрд░реАрдХрд░рдГ рд╢реНрд░реЗрдпрдГ рд╢реНрд░реАрдорд╛рдБрд▓реНрд▓реЛрдХрддреНрд░рдпрд╛рд╢реНрд░рдпрдГ'},
  {id:66, text:'рд╕реНрд╡рдХреНрд╖рдГ рд╕реНрд╡рдЩреНрдЧрдГ рд╢рддрд╛рдирдиреНрджреЛ рдирдиреНрджрд┐рд░реНрдЬреНрдпреЛрддрд┐рд░реНрдЧрдгреЗрд╢реНрд╡рд░рдГ ред\nрд╡рд┐рдЬрд┐рддрд╛рддреНрдорд╛рд╜рд╡рд┐рдзреЗрдпрд╛рддреНрдорд╛ рд╕рддреНрдХреАрд░реНрддрд┐рд╢реНрдЫрд┐рдиреНрдирд╕рдВрд╢рдпрдГ'},
  {id:67, text:'рдЙрджреАрд░реНрдгрдГ рд╕рд░реНрд╡рддрд╢реНрдЪрдХреНрд╖реБрд░рдиреАрд╢рдГ рд╢рд╛рд╢реНрд╡рддрд╕реНрдерд┐рд░рдГ ред\nрднреВрд╢рдпреЛ рднреВрд╖рдгреЛ рднреВрддрд┐рд░реНрд╡рд┐рд╢реЛрдХрдГ рд╢реЛрдХрдирд╛рд╢рдирдГ'},
  {id:68, text:'рдЕрд░реНрдЪрд┐рд╖реНрдорд╛рдирд░реНрдЪрд┐рддрдГ рдХреБрдореНрднреЛ рд╡рд┐рд╢реБрджреНрдзрд╛рддреНрдорд╛ рд╡рд┐рд╢реЛрдзрдирдГ ред\nрдЕрдирд┐рд░реБрджреНрдзреЛрд╜рдкреНрд░рддрд┐рд░рдердГ рдкреНрд░рджреНрдпреБрдореНрдиреЛрд╜рдорд┐рддрд╡рд┐рдХреНрд░рдордГ'},
  {id:69, text:'рдХрд╛рд▓рдиреЗрдорд┐рдирд┐рд╣рд╛ рд╡реАрд░рдГ рд╢реМрд░рд┐рдГ рд╢реВрд░рдЬрдиреЗрд╢реНрд╡рд░рдГ ред\nрддреНрд░рд┐рд▓реЛрдХрд╛рддреНрдорд╛ рддреНрд░рд┐рд▓реЛрдХреЗрд╢рдГ рдХреЗрд╢рд╡рдГ рдХреЗрд╢рд┐рд╣рд╛ рд╣рд░рд┐рдГ'},
  {id:70, text:'рдХрд╛рдорджреЗрд╡рдГ рдХрд╛рдордкрд╛рд▓рдГ рдХрд╛рдореА рдХрд╛рдиреНрддрдГ рдХреГрддрд╛рдЧрдордГ ред\nрдЕрдирд┐рд░реНрджреЗрд╢реНрдпрд╡рдкреБрд░реНрд╡рд┐рд╖реНрдгреБрд░реНрд╡реАрд░реЛрд╜рдирдиреНрддреЛ рдзрдирдЮреНрдЬрдпрдГ'},
  {id:71, text:'рдмреНрд░рд╣реНрдордгреНрдпреЛ рдмреНрд░рд╣реНрдордХреГрджреН рдмреНрд░рд╣реНрдорд╛ рдмреНрд░рд╣реНрдо рдмреНрд░рд╣реНрдорд╡рд┐рд╡рд░реНрдзрдирдГ ред\nрдмреНрд░рд╣реНрдорд╡рд┐рджреН рдмреНрд░рд╛рд╣реНрдордгреЛ рдмреНрд░рд╣реНрдореА рдмреНрд░рд╣реНрдордЬреНрдЮреЛ рдмреНрд░рд╛рд╣реНрдордгрдкреНрд░рд┐рдпрдГ'},
  {id:72, text:'рдорд╣рд╛рдХреНрд░рдореЛ рдорд╣рд╛рдХрд░реНрдорд╛ рдорд╣рд╛рддреЗрдЬрд╛ рдорд╣реЛрд░рдЧрдГ ред\nрдорд╣рд╛рдХреНрд░рддреБрд░реНрдорд╣рд╛рдпрдЬреНрд╡рд╛ рдорд╣рд╛рдпрдЬреНрдЮреЛ рдорд╣рд╛рд╣рд╡рд┐рдГ'},
  {id:73, text:'рд╕реНрддрд╡реНрдпрдГ рд╕реНрддрд╡рдкреНрд░рд┐рдпрдГ рд╕реНрддреЛрддреНрд░рдВ рд╕реНрддреБрддрд┐рдГ рд╕реНрддреЛрддрд╛ рд░рдгрдкреНрд░рд┐рдпрдГ ред\nрдкреВрд░реНрдгрдГ рдкреВрд░рдпрд┐рддрд╛ рдкреБрдгреНрдпрдГ рдкреБрдгреНрдпрдХреАрд░реНрддрд┐рд░рдирд╛рдордпрдГ'},
  {id:74, text:'рдордиреЛрдЬрд╡рд╕реНрддреАрд░реНрдердХрд░реЛ рд╡рд╕реБрд░реЗрддрд╛ рд╡рд╕реБрдкреНрд░рджрдГ ред\nрд╡рд╕реБрдкреНрд░рджреЛ рд╡рд╛рд╕реБрджреЗрд╡реЛ рд╡рд╕реБрд░реНрд╡рд╕реБрдордирд╛ рд╣рд╡рд┐рдГ'},
  {id:75, text:'рд╕рджреНрдЧрддрд┐рдГ рд╕рддреНрдХреГрддрд┐рдГ рд╕рддреНрддрд╛ рд╕рджреНрднреВрддрд┐рдГ рд╕рддреНрдкрд░рд╛рдпрдгрдГ ред\nрд╢реВрд░рд╕реЗрдиреЛ рдпрджреБрд╢реНрд░реЗрд╖реНрдардГ рд╕рдиреНрдирд┐рд╡рд╛рд╕рдГ рд╕реБрдпрд╛рдореБрдирдГ'},
  {id:76, text:'рднреВрддрд╛рд╡рд╛рд╕реЛ рд╡рд╛рд╕реБрджреЗрд╡рдГ рд╕рд░реНрд╡рд╛рд╕реБрдирд┐рд▓рдпреЛрд╜рдирд▓рдГ ред\nрджрд░реНрдкрд╣рд╛ рджрд░реНрдкрджреЛ рджреГрдкреНрддреЛ рджреБрд░реНрдзрд░реЛрд╜рдерд╛рдкрд░рд╛рдЬрд┐рддрдГ'},
  {id:77, text:'рд╡рд┐рд╢реНрд╡рдореВрд░реНрддрд┐рд░реНрдорд╣рд╛рдореВрд░реНрддрд┐рд░реНрджреАрдкреНрддрдореВрд░реНрддрд┐рд░рдореВрд░реНрддрд┐рдорд╛рдиреН ред\nрдЕрдиреЗрдХрдореВрд░реНрддрд┐рд░рд╡реНрдпрдХреНрддрдГ рд╢рддрдореВрд░реНрддрд┐рдГ рд╢рддрд╛рдирдирдГ'},
  {id:78, text:'рдПрдХреЛ рдиреИрдХрдГ рд╕рд╡рдГ рдХрдГ рдХрд┐рдВ рдпрддреН рддрддреНрдкрджрдордиреБрддреНрддрдордореН ред\nрд▓реЛрдХрдмрдиреНрдзреБрд░реНрд▓реЛрдХрдирд╛рдереЛ рдорд╛рдзрд╡реЛ рднрдХреНрддрд╡рддреНрд╕рд▓рдГ'},
  {id:79, text:'рд╕реБрд╡рд░реНрдгрд╡рд░реНрдгреЛ рд╣реЗрдорд╛рдЩреНрдЧреЛ рд╡рд░рд╛рдЩреНрдЧрд╢реНрдЪрдиреНрджрдирд╛рдЩреНрдЧрджреА ред\nрд╡реАрд░рд╣рд╛ рд╡рд┐рд╖рдордГ рд╢реВрдиреНрдпреЛ рдШреГрддрд╛рд╢реАрд░рдЪрд▓рд╢реНрдЪрд▓рдГ'},
  {id:80, text:'рдЕрдорд╛рдиреА рдорд╛рдирджреЛ рдорд╛рдиреНрдпреЛ рд▓реЛрдХрд╕реНрд╡рд╛рдореА рддреНрд░рд┐рд▓реЛрдХрдзреГрдХреН ред\nрд╕реБрдореЗрдзрд╛ рдореЗрдзрдЬреЛ рдзрдиреНрдпрдГ рд╕рддреНрдпрдореЗрдзрд╛ рдзрд░рд╛рдзрд░рдГ'},
  {id:81, text:'рддреЗрдЬреЛрд╡реГрд╖реЛ рджреНрдпреБрддрд┐рдзрд░рдГ рд╕рд░реНрд╡рд╢рд╕реНрддреНрд░рднреГрддрд╛рдВ рд╡рд░рдГ ред\nрдкреНрд░рдЧреНрд░рд╣реЛ рдирд┐рдЧреНрд░рд╣реЛ рд╡реНрдпрдЧреНрд░реЛ рдиреИрдХрд╢тАНреГрдЩреНрдЧреЛ рдЧрджрд╛рдЧреНрд░рдЬрдГ'},
  {id:82, text:'рдЪрддреБрд░реНрдореВрд░реНрддрд┐рд╢реНрдЪрддреБрд░реНрдмрд╛рд╣реБрд╢реНрдЪрддреБрд░реНрд╡реНрдпреВрд╣рд╢реНрдЪрддреБрд░реНрдЧрддрд┐рдГ ред\nрдЪрддреБрд░рд╛рддреНрдорд╛ рдЪрддреБрд░реНрднрд╛рд╡рд╢реНрдЪрддреБрд░реНрд╡реЗрджрд╡рд┐рджреЗрдХрдкрд╛рддреН'},
  {id:83, text:'рд╕рдорд╛рд╡рд░реНрддреЛрд╜рдирд┐рд╡реГрддреНрддрд╛рддреНрдорд╛ рджреБрд░реНрдЬрдпреЛ рджреБрд░рддрд┐рдХреНрд░рдордГ ред\nрджреБрд░реНрд▓рднреЛ рджреБрд░реНрдЧрдореЛ рджреБрд░реНрдЧреЛ рджреБрд░рд╛рд╡рд╛рд╕реЛ рджреБрд░рд╛рд░рд┐рд╣рд╛'},
  {id:84, text:'рд╢реБрднрд╛рдЩреНрдЧреЛ рд▓реЛрдХрд╕рд╛рд░рдЩреНрдЧрдГ рд╕реБрддрдиреНрддреБрд╕реНрддрдиреНрддреБрд╡рд░реНрдзрдирдГ ред\nрдЗрдиреНрджреНрд░рдХрд░реНрдорд╛ рдорд╣рд╛рдХрд░реНрдорд╛ рдХреГрддрдХрд░реНрдорд╛ рдХреГрддрд╛рдЧрдордГ'},
  {id:85, text:'рдЙрджреНрднрд╡рдГ рд╕реБрдиреНрджрд░рдГ рд╕реБрдиреНрджреЛ рд░рддреНрдирдирд╛рднрдГ рд╕реБрд▓реЛрдЪрдирдГ ред\nрдЕрд░реНрдХреЛ рд╡рд╛рдЬрд╕рдирдГ рд╢тАНреГрдЩреНрдЧреА рдЬрдпрдиреНрддрдГ рд╕рд░реНрд╡рд╡рд┐рдЬреНрдЬрдпреА'},
  {id:86, text:'рд╕реБрд╡рд░реНрдгрдмрд┐рдиреНрджреБрд░рдХреНрд╖реЛрднреНрдпрдГ рд╕рд░реНрд╡рд╡рд╛рдЧреАрд╢реНрд╡рд░реЗрд╢реНрд╡рд░рдГ ред\nрдорд╣рд╛рд╣реНрд░рджреЛ рдорд╣рд╛рдЧрд░реНрддреЛ рдорд╣рд╛рднреВрддреЛ рдорд╣рд╛рдирд┐рдзрд┐рдГ'},
  {id:87, text:'рдХреБрдореБрджрдГ рдХреБрдиреНрджрд░рдГ рдХреБрдиреНрджрдГ рдкрд░реНрдЬрдиреНрдпрдГ рдкрд╛рд╡рдиреЛрд╜рдирд┐рд▓рдГ ред\nрдЕрдореГрддрд╛рд╢реЛрд╜рдореГрддрд╡рдкреБрдГ рд╕рд░реНрд╡рдЬреНрдЮрдГ рд╕рд░реНрд╡рддреЛрдореБрдЦрдГ'},
  {id:88, text:'рд╕реБрд▓рднрдГ рд╕реБрд╡реНрд░рддрдГ рд╕рд┐рджреНрдзрдГ рд╢рддреНрд░реБрдЬрд┐рдЪреНрдЫрддреНрд░реБрддрд╛рдкрдирдГ ред\nрдиреНрдпрдЧреНрд░реЛрдзреЛрд╜рджреБрдореНрдмрд░реЛрд╜рд╢реНрд╡рддреНрдерд╢реНрдЪрд╛рдгреВрд░рд╛рдиреНрдзреНрд░рдирд┐рд╖реВрджрдирдГ'},
  {id:89, text:'рд╕рд╣рд╕реНрд░рд╛рд░реНрдЪрд┐рдГ рд╕рдкреНрддрдЬрд┐рд╣реНрд╡рдГ рд╕рдкреНрддреИрдзрд╛рдГ рд╕рдкреНрддрд╡рд╛рд╣рдирдГ ред\nрдЕрдореВрд░реНрддрд┐рд░рдирдШреЛрд╜рдЪрд┐рдиреНрддреНрдпреЛ рднрдпрдХреГрджреНрднрдпрдирд╛рд╢рдирдГ'},
  {id:90, text:'рдЕрдгреБрд░реНрдмреГрд╣рддреНрдХреГрд╢рдГ рд╕реНрдереВрд▓реЛ рдЧреБрдгрднреГрдиреНрдирд┐рд░реНрдЧреБрдгреЛ рдорд╣рд╛рдиреН ред\nрдЕрдзреГрддрдГ рд╕реНрд╡рдзреГрддрдГ рд╕реНрд╡рд╛рд╕реНрдпрдГ рдкреНрд░рд╛рдЧреНрд╡рдВрд╢реЛ рд╡рдВрд╢рд╡рд░реНрдзрдирдГ'},
  {id:91, text:'рднрд╛рд░рднреГрддреН рдХрдерд┐рддреЛ рдпреЛрдЧреА рдпреЛрдЧреАрд╢рдГ рд╕рд░реНрд╡рдХрд╛рдорджрдГ ред\nрдЖрд╢реНрд░рдордГ рд╢реНрд░рдордгрдГ рдХреНрд╖рд╛рдордГ рд╕реБрдкрд░реНрдгреЛ рд╡рд╛рдпреБрд╡рд╛рд╣рдирдГ'},
  {id:92, text:'рдзрдиреБрд░реНрдзрд░реЛ рдзрдиреБрд░реНрд╡реЗрджреЛ рджрдгреНрдбреЛ рджрдордпрд┐рддрд╛ рджрдордГ ред\nрдЕрдкрд░рд╛рдЬрд┐рддрдГ рд╕рд░реНрд╡рд╕рд╣реЛ рдирд┐рдпрдиреНрддрд╛рд╜рдирд┐рдпрдореЛрд╜рдпрдордГ'},
  {id:93, text:'рд╕рддреНрддреНрд╡рд╡рд╛рдиреН рд╕рд╛рддреНрддреНрд╡рд┐рдХрдГ рд╕рддреНрдпрдГ рд╕рддреНрдпрдзрд░реНрдордкрд░рд╛рдпрдгрдГ ред\nрдЕрднрд┐рдкреНрд░рд╛рдпрдГ рдкреНрд░рд┐рдпрд╛рд░реНрд╣реЛрд╜рд░реНрд╣рдГ рдкреНрд░рд┐рдпрдХреГрддреН рдкреНрд░реАрддрд┐рд╡рд░реНрдзрдирдГ'},
  {id:94, text:'рд╡рд┐рд╣рд╛рдпрд╕рдЧрддрд┐рд░реНрдЬреНрдпреЛрддрд┐рдГ рд╕реБрд░реБрдЪрд┐рд░реНрд╣реБрддрднреБрдЧреНрд╡рд┐рднреБрдГ ред\nрд░рд╡рд┐рд░реНрд╡рд┐рд░реЛрдЪрдирдГ рд╕реВрд░реНрдпрдГ рд╕рд╡рд┐рддрд╛ рд░рд╡рд┐рд▓реЛрдЪрдирдГ'},
  {id:95, text:'рдЕрдирдиреНрддреЛ рд╣реБрддрднреБрдЧреНрднреЛрдХреНрддрд╛ рд╕реБрдЦрджреЛ рдиреИрдХрдЬреЛрд╜рдЧреНрд░рдЬрдГ ред\nрдЕрдирд┐рд░реНрд╡рд┐рдгреНрдгрдГ рд╕рджрд╛рдорд░реНрд╖реА рд▓реЛрдХрд╛рдзрд┐рд╖реНрдард╛рдирдорджреНрднреБрддрдГ'},
  {id:96, text:'рд╕рдирд╛рддреНрд╕рдирд╛рддрдирддрдордГ рдХрдкрд┐рд▓рдГ рдХрдкрд┐рд░рд╡реНрдпрдпрдГ ред\nрд╕реНрд╡рд╕реНрддрд┐рджрдГ рд╕реНрд╡рд╕реНрддрд┐рдХреГрддреНрд╕реНрд╡рд╕реНрддрд┐ рд╕реНрд╡рд╕реНрддрд┐рднреБрдХреНрд╕реНрд╡рд╕реНрддрд┐рджрдХреНрд╖рд┐рдгрдГ'},
  {id:97, text:'рдЕрд░реМрджреНрд░рдГ рдХреБрдгреНрдбрд▓реА рдЪрдХреНрд░реА рд╡рд┐рдХреНрд░рдореНрдпреВрд░реНрдЬрд┐рддрд╢рд╛рд╕рдирдГ ред\nрд╢рдмреНрджрд╛рддрд┐рдЧрдГ рд╢рдмреНрджрд╕рд╣рдГ рд╢рд┐рд╢рд┐рд░рдГ рд╢рд░реНрд╡рд░реАрдХрд░рдГ'},
  {id:98, text:'рдЕрдХреНрд░реВрд░рдГ рдкреЗрд╢рд▓реЛ рджрдХреНрд╖реЛ рджрдХреНрд╖рд┐рдгрдГ рдХреНрд╖рдорд┐рдгрд╛рдВрд╡рд░рдГ ред\nрд╡рд┐рджреНрд╡рддреНрддрдореЛ рд╡реАрддрднрдпрдГ рдкреБрдгреНрдпрд╢реНрд░рд╡рдгрдХреАрд░реНрддрдирдГ'},
  {id:99, text:'рдЙрддреНрддрд╛рд░рдгреЛ рджреБрд╖реНрдХреГрддрд┐рд╣рд╛ рдкреБрдгреНрдпреЛ рджреБрдГрд╕реНрд╡рдкреНрдирдирд╛рд╢рдирдГ ред\nрд╡реАрд░рд╣рд╛ рд░рдХреНрд╖рдгрдГ рд╕рдиреНрддреЛ рдЬреАрд╡рдирдГ рдкрд░реНрдпрд╡рд╕реНрдерд┐рддрдГ'},
  {id:100, text:'рдЕрдирдиреНрддрд░реВрдкреЛрд╜рдирдиреНрддрд╢реНрд░реАрд░реНрдЬрд┐рддрдордиреНрдпреБрд░реНрднрдпрд╛рдкрд╣рдГ ред\nрдЪрддреБрд░рд╢реНрд░реЛ рдЧрднреАрд░рд╛рддреНрдорд╛ рд╡рд┐рджрд┐рд╢реЛ рд╡реНрдпрд╛рджрд┐рд╢реЛ рджрд┐рд╢рдГ'},
  {id:101, text:'рдЕрдирд╛рджрд┐рд░реНрднреВрд░реНрднреБрд╡реЛ рд▓рдХреНрд╖реНрдореАрдГ рд╕реБрд╡реАрд░реЛ рд░реБрдЪрд┐рд░рд╛рдЩреНрдЧрджрдГ ред\nрдЬрдирдиреЛ рдЬрдирдЬрдиреНрдорд╛рджрд┐рд░реНрднреАрдореЛ рднреАрдордкрд░рд╛рдХреНрд░рдордГ'},
  {id:102, text:'рдЖрдзрд╛рд░рдирд┐рд▓рдпреЛрд╜рдзрд╛рддрд╛ рдкреБрд╖реНрдкрд╣рд╛рд╕рдГ рдкреНрд░рдЬрд╛рдЧрд░рдГ ред\nрдКрд░реНрдзреНрд╡рдЧрдГ рд╕рддреНрдкрдерд╛рдЪрд╛рд░рдГ рдкреНрд░рд╛рдгрджрдГ рдкреНрд░рдгрд╡рдГ рдкрдгрдГ'},
  {id:103, text:'рдкреНрд░рдорд╛рдгрдВ рдкреНрд░рд╛рдгрдирд┐рд▓рдпрдГ рдкреНрд░рд╛рдгрднреГрддреНрдкреНрд░рд╛рдгрдЬреАрд╡рдирдГ ред\nрддрддреНрддреНрд╡рдВ рддрддреНрддреНрд╡рд╡рд┐рджреЗрдХрд╛рддреНрдорд╛ рдЬрдиреНрдордореГрддреНрдпреБрдЬрд░рд╛рддрд┐рдЧрдГ'},
  {id:104, text:'рднреВрд░реНрднреБрд╡рдГрд╕реНрд╡рд╕реНрддрд░реБрд╕реНрддрд╛рд░рдГ рд╕рд╡рд┐рддрд╛ рдкреНрд░рдкрд┐рддрд╛рдорд╣рдГ ред\nрдпрдЬреНрдЮреЛ рдпрдЬреНрдЮрдкрддрд┐рд░реНрдпрдЬреНрд╡рд╛ рдпрдЬреНрдЮрд╛рдЩреНрдЧреЛ рдпрдЬреНрдЮрд╡рд╛рд╣рдирдГ'},
  {id:105, text:'рдпрдЬреНрдЮрднреГрджреН рдпрдЬреНрдЮрдХреГрджреН рдпрдЬреНрдЮреА рдпрдЬреНрдЮрднреБрдЧреН рдпрдЬреНрдЮрд╕рд╛рдзрдирдГ ред\nрдпрдЬреНрдЮрд╛рдиреНрддрдХреГрджреН рдпрдЬреНрдЮрдЧреБрд╣реНрдпрдордиреНрдирдордиреНрдирд╛рдж рдПрд╡ рдЪ'},
  {id:106, text:'рдЖрддреНрдордпреЛрдирд┐рдГ рд╕реНрд╡рдпрдЮреНрдЬрд╛рддреЛ рд╡реИрдЦрд╛рдирдГ рд╕рд╛рдордЧрд╛рдпрдирдГ ред\nрджреЗрд╡рдХреАрдирдиреНрджрдирдГ рд╕реНрд░рд╖реНрдЯрд╛ рдХреНрд╖рд┐рддреАрд╢рдГ рдкрд╛рдкрдирд╛рд╢рдирдГ'},
  {id:107, text:'рд╢рдЩреНрдЦрднреГрдиреНрдирдиреНрджрдХреА рдЪрдХреНрд░реА рд╢рд╛рд░реНрдЩреНрдЧрдзрдиреНрд╡рд╛ рдЧрджрд╛рдзрд░рдГ ред\nрд░рдерд╛рдЩреНрдЧрдкрд╛рдгрд┐рд░рдХреНрд╖реЛрднреНрдпрдГ рд╕рд░реНрд╡рдкреНрд░рд╣рд░рдгрд╛рдпреБрдзрдГ'},
];

let currentVerseIdx = 0;

// ============================================================
// PHONETIC MAP (9-dim articulatory vectors for Devanagari)
// Dims 0-4: Place of Articulation (Guttural, Palatal, Cerebral, Dental, Labial)
// Dim 5: Nasal   Dim 6: Voiced   Dim 7: Aspirated   Dim 8: Length (long)
// ============================================================
const PHONETIC_MAP = {
    // Vowels тАФ all voiced (dim6=1), nasality/aspiration 0
    'рдЕ':[1,0,0,0,0, 0,1,0,0],'рдЖ':[1,0,0,0,0, 0,1,0,1],
    'рдЗ':[0,1,0,0,0, 0,1,0,0],'рдИ':[0,1,0,0,0, 0,1,0,1],
    'рдЙ':[0,0,0,0,1, 0,1,0,0],'рдК':[0,0,0,0,1, 0,1,0,1],
    'рдЛ':[0,0,1,0,0, 0,1,0,0],
    'рдП':[0,1,0,0,0, 0,1,0,1],'рдР':[0,1,0,0,0, 0,1,0,1],
    'рдУ':[0,0,0,0,1, 0,1,0,1],'рдФ':[0,0,0,0,1, 0,1,0,1],
    // Gutturals (k-varga)
    'рдХ':[1,0,0,0,0, 0,0,0,0],'рдЦ':[1,0,0,0,0, 0,0,1,0],
    'рдЧ':[1,0,0,0,0, 0,1,0,0],'рдШ':[1,0,0,0,0, 0,1,1,0],'рдЩ':[1,0,0,0,0, 1,1,0,0],
    // Palatals (c-varga)
    'рдЪ':[0,1,0,0,0, 0,0,0,0],'рдЫ':[0,1,0,0,0, 0,0,1,0],
    'рдЬ':[0,1,0,0,0, 0,1,0,0],'рдЭ':[0,1,0,0,0, 0,1,1,0],'рдЮ':[0,1,0,0,0, 1,1,0,0],
    // Cerebrals / Retroflexes (T-varga)
    'рдЯ':[0,0,1,0,0, 0,0,0,0],'рда':[0,0,1,0,0, 0,0,1,0],
    'рдб':[0,0,1,0,0, 0,1,0,0],'рдв':[0,0,1,0,0, 0,1,1,0],'рдг':[0,0,1,0,0, 1,1,0,0],
    // Dentals (t-varga)
    'рдд':[0,0,0,1,0, 0,0,0,0],'рде':[0,0,0,1,0, 0,0,1,0],
    'рдж':[0,0,0,1,0, 0,1,0,0],'рдз':[0,0,0,1,0, 0,1,1,0],'рди':[0,0,0,1,0, 1,1,0,0],
    // Labials (p-varga)
    'рдк':[0,0,0,0,1, 0,0,0,0],'рдл':[0,0,0,0,1, 0,0,1,0],
    'рдм':[0,0,0,0,1, 0,1,0,0],'рдн':[0,0,0,0,1, 0,1,1,0],'рдо':[0,0,0,0,1, 1,1,0,0],
    // Semi-vowels тАФ all voiced
    'рдп':[0,1,0,0,0, 0,1,0,0],'рд░':[0,0,1,0,0, 0,1,0,0],
    'рд▓':[0,0,0,1,0, 0,1,0,0],'рд╡':[0,0,0,0,1, 0,1,0,0],
    // Sibilants тАФ unvoiced
    'рд╢':[0,1,0,0,0, 0,0,0,0],'рд╖':[0,0,1,0,0, 0,0,0,0],'рд╕':[0,0,0,1,0, 0,0,0,0],
    // h тАФ voiced (pr─Бс╣Зa)
    'рд╣':[1,0,0,0,0, 0,1,0,0]
};

const SHORT_VOWELS  = new Set(['рдЕ','рдЗ','рдЙ','рдЛ','рдМ']);
const LONG_VOWELS   = new Set(['рдЖ','рдИ','рдК','реа','рдП','рдР','рдУ','рдФ']);
const MATRA_LONG    = new Set(['рд╛','реА','реВ','реГ','реД','реЗ','реИ','реЛ','реМ']);
const MATRA_SHORT   = new Set(['рд┐','реБ']);
const ANUSVARA_VIS  = new Set(['рдВ','рдГ']);
const HALANT        = 'реН';
const CONSONANTS    = new Set(Object.keys(PHONETIC_MAP).filter(c => !SHORT_VOWELS.has(c) && !LONG_VOWELS.has(c)));

// ============================================================
// PROSODY ENGINE
// ============================================================
function analyzeProsody(text) {
    const clean = text.replace(/[редрее\dреж-реп\s\n\r|\.,;!?\-тАУтАФ()[\]{}'"]/g, '');
    const chars = [...clean];
    const syllables = [];
    let i = 0;

    while (i < chars.length) {
        const ch = chars[i];
        if (ch === HALANT) { i++; continue; }
        if (MATRA_LONG.has(ch) || MATRA_SHORT.has(ch)) { i++; continue; }
        if (ANUSVARA_VIS.has(ch)) { i++; continue; }

        let isGuru = false;
        let label = ch;

        if (LONG_VOWELS.has(ch)) {
            isGuru = true;
        } else if (SHORT_VOWELS.has(ch)) {
            if (i+1 < chars.length && ANUSVARA_VIS.has(chars[i+1])) { isGuru = true; label += chars[i+1]; }
            else { isGuru = false; }
        } else if (CONSONANTS.has(ch) || PHONETIC_MAP[ch]) {
            const next = chars[i+1] || '';
            if (MATRA_LONG.has(next)) {
                isGuru = true; label += next;
            } else if (MATRA_SHORT.has(next)) {
                label += next;
                const afterMatra = chars[i+2] || '';
                if (ANUSVARA_VIS.has(afterMatra)) { isGuru = true; label += afterMatra; }
                else if (i+2 < chars.length && CONSONANTS.has(chars[i+2]) && i+3 < chars.length && chars[i+3] === HALANT) {
                    isGuru = true;
                } else { isGuru = false; }
            } else if (next === HALANT) {
                i++; continue;
            } else if (ANUSVARA_VIS.has(next)) {
                isGuru = true; label += next;
            } else {
                if (i+1 < chars.length && CONSONANTS.has(chars[i+1]) && i+2 < chars.length && chars[i+2] === HALANT) {
                    isGuru = true;
                } else { isGuru = false; }
            }
        } else { i++; continue; }

        syllables.push({ text: label, isGuru });
        i++;
    }
    return syllables;
}

// ============================================================
// PHONETIC SPECTRUM (9-dimensional)
// ============================================================
const DIM_NAMES = ['Guttural','Palatal','Cerebral','Dental','Labial','Nasal','Voiced','Aspirated','Length'];
const DIM_COUNT = 9;

function analyzeSpectrum(text) {
    const counts = new Array(DIM_COUNT).fill(0);
    let total = 0;
    for (const ch of text) {
        const vec = PHONETIC_MAP[ch];
        if (vec) { total++; for (let d=0;d<DIM_COUNT;d++) counts[d]+=vec[d]; }
    }
    if (total === 0) return new Array(DIM_COUNT).fill(0);
    return counts.map(c => (c/total)*100);
}

// ============================================================
// METER DETECTION
// ============================================================
function detectMeter(syllableCount) {
    if (syllableCount === 6)  return 'G─Бyatr─л (6)';
    if (syllableCount === 7)  return 'Uс╣гс╣Зih (7)';
    if (syllableCount === 8)  return 'Anuс╣гс╣нubh (8)';
    if (syllableCount === 9)  return 'Bс╣Ыhat─л (9)';
    if (syllableCount === 11) return 'Triс╣гс╣нubh (11)';
    if (syllableCount === 12) return 'Jagat─л (12)';
    if (syllableCount >= 30 && syllableCount <= 34) return 'Anuс╣гс╣нubh / ┼Ъloka (4├Ч8)';
    if (syllableCount >= 22 && syllableCount <= 24) return 'G─Бyatr─л (3├Ч8)';
    if (syllableCount >= 42 && syllableCount <= 48) return 'Triс╣гс╣нubh (4├Ч11)';
    return 'Custom (' + syllableCount + ' syllables)';
}

function isPrime(n) {
    if (n < 2) return false;
    for (let i=2; i*i<=n; i++) if (n%i===0) return false;
    return true;
}

// ============================================================
// MERU PRASTARA (Pascal's Triangle)
// ============================================================
function drawMeruPrastara(binaryPattern) {
    const canvas = document.getElementById('meruCanvas');
    const ctx = canvas.getContext('2d');
    const W = canvas.width, H = canvas.height;
    ctx.clearRect(0, 0, W, H);

    const rows = Math.min(Math.max((binaryPattern||'').length, 6), 10);
    const radius = 16;
    const rowH = (H - 40) / rows;
    const bits = (binaryPattern || '').split('').map(Number);

    // Compute highlighted path
    const pathCols = [0];
    let cumSum = 0;
    for (let r = 1; r < rows; r++) {
        if (r-1 < bits.length) cumSum += bits[r-1];
        pathCols.push(Math.min(cumSum, r));
    }

    function binom(n, k) {
        if (k<0||k>n) return 0;
        if (k===0||k===n) return 1;
        let v=1; for (let i=0;i<k;i++) v=v*(n-i)/(i+1); return Math.round(v);
    }

    for (let r = 0; r < rows; r++) {
        const y = 25 + r * rowH;
        const rw = (r+1) * (radius*2 + 6);
        const sx = (W - rw) / 2 + radius + 3;
        for (let c = 0; c <= r; c++) {
            const x = sx + c * (radius*2 + 6);
            const val = binom(r, c);
            const onPath = (pathCols[r] === c);

            if (r < rows-1) {
                const ny = 25 + (r+1) * rowH;
                const nrw = (r+2) * (radius*2 + 6);
                const nsx = (W - nrw) / 2 + radius + 3;
                ctx.beginPath(); ctx.strokeStyle = 'rgba(255,255,255,0.08)'; ctx.lineWidth = 1;
                ctx.moveTo(x, y+radius); ctx.lineTo(nsx + c*(radius*2+6), ny-radius); ctx.stroke();
                ctx.beginPath(); ctx.moveTo(x, y+radius); ctx.lineTo(nsx + (c+1)*(radius*2+6), ny-radius); ctx.stroke();
            }

            ctx.beginPath(); ctx.arc(x, y, radius, 0, Math.PI*2);
            if (onPath) {
                ctx.fillStyle = '#DAA520'; ctx.strokeStyle = '#fff'; ctx.lineWidth = 2.5;
            } else {
                ctx.fillStyle = 'rgba(255,255,255,0.07)'; ctx.strokeStyle = 'rgba(255,255,255,0.2)'; ctx.lineWidth = 1;
            }
            ctx.fill(); ctx.stroke();

            ctx.fillStyle = onPath ? '#000' : '#666';
            ctx.font = (val>99?9:11)+'px Rajdhani'; ctx.textAlign = 'center'; ctx.textBaseline = 'middle';
            ctx.fillText(val, x, y);
        }
    }
}

// ============================================================
// DISPLAY
// ============================================================
function analyzeVerse() {
    const text = document.getElementById('sanskritInput').value.trim();
    if (!text) return;

    const syllables = analyzeProsody(text);
    const binaryStr = syllables.map(s => s.isGuru ? '1' : '0').join('');
    const decimal = binaryStr.length > 0 ? parseInt(binaryStr, 2) : 0;
    const spectrum = analyzeSpectrum(text);
    const laghuN = syllables.filter(s => !s.isGuru).length;
    const guruN = syllables.filter(s => s.isGuru).length;
    const meter = detectMeter(syllables.length);

    const card = document.getElementById('verseResult');
    card.classList.remove('hidden');

    const v = VERSES[currentVerseIdx];
    document.getElementById('resultVerseId').textContent = v ? v.id : '';
    document.getElementById('resultSanskrit').innerHTML = text.replace(/\n/g, '<br>');

    // тШЕ Feature 2: Syllable strip
    const strip = document.getElementById('syllableStrip');
    strip.innerHTML = '';
    syllables.forEach(s => {
        const el = document.createElement('div');
        el.className = s.isGuru ? 'syl syl-guru' : 'syl syl-laghu';
        el.textContent = s.isGuru ? 'G' : 'L';
        el.title = s.text;
        strip.appendChild(el);
    });

    // тШЕ Feature 3: Binary string + decimal
    document.getElementById('binaryString').textContent = binaryStr;
    document.getElementById('decimalValue').textContent = 'Decimal: ' + decimal;

    // тШЕ Feature 4: Meter
    document.getElementById('meterName').textContent = meter;

    // тШЕ Feature 6b: Stacked energy bar
    const elements = ['ether','air','fire','water','earth'];
    const colors = ['var(--ether)','var(--air)','var(--fire)','var(--water)','var(--earth)'];
    const energyBar = document.getElementById('energyBar');
    energyBar.innerHTML = '';
    spectrum.slice(0, 5).forEach((pct, idx) => {
        const seg = document.createElement('div');
        seg.style.cssText = 'width:'+pct+'%; height:100%; background:'+colors[idx]+';';
        seg.title = elements[idx] + ': ' + pct.toFixed(1) + '%';
        energyBar.appendChild(seg);
    });

    // тШЕ Feature 6: Animated spectrum bars (all 9 dimensions)
    const barIds = ['bar-guttural','bar-palatal','bar-cerebral','bar-dental','bar-labial','bar-nasal','bar-voiced','bar-aspirated','bar-length'];
    barIds.forEach((id, idx) => {
        const bar = document.getElementById(id);
        const pct = spectrum[idx] || 0;
        bar.style.width = Math.min(pct * 1.8, 100) + '%';
        bar.innerHTML = '<span>'+DIM_NAMES[idx]+'</span><span class="spectrum-pct">'+pct.toFixed(1)+'%</span>';
    });

    // Interpretation
    const interp = document.getElementById('interpretation');
    const dentalPct = spectrum[3], labialPct = spectrum[4], gutturalPct = spectrum[0];
    if (dentalPct + labialPct > 50) {
        interp.style.display = 'block';
        interp.innerHTML = '<strong>ЁЯТб Interpretation:</strong> High Dental ('+dentalPct.toFixed(1)+'%) + Labial ('+labialPct.toFixed(1)+'%) = '+(dentalPct+labialPct).toFixed(1)+'% activation in Water & Earth elements тАФ indicates <em>grounding and manifestation</em> focus, characteristic of healing mantras.';
    } else if (gutturalPct > 35) {
        interp.style.display = 'block';
        interp.innerHTML = '<strong>ЁЯТб Interpretation:</strong> Elevated Guttural presence ('+gutturalPct.toFixed(1)+'%) indicates connection to Ether/Space element тАФ this verse emphasizes <em>transcendence and cosmic awareness</em>.';
    } else {
        interp.style.display = 'block';
        interp.innerHTML = '<strong>ЁЯТб Interpretation:</strong> Balanced phonetic distribution across articulatory positions тАФ comprehensive activation suitable for general well-being and meditation.';
    }

    // тШЕ Feature 7: Statistics
    document.getElementById('statSyllables').textContent = syllables.length;
    document.getElementById('statLaghu').textContent = laghuN;
    document.getElementById('statGuru').textContent = guruN;
    document.getElementById('statRatio').textContent = guruN > 0 ? (laghuN/guruN).toFixed(2) : 'тИЮ';
    document.getElementById('statDecimal').textContent = decimal;
    document.getElementById('statPrime').textContent = isPrime(syllables.length) ? 'тЬУ Prime' : 'тЬЧ No';

    // тШЕ Feature 5: Meru Prastara
    drawMeruPrastara(binaryStr);

    // тШЕ Word Meanings
    const grid = document.getElementById('meaningsGrid');
    grid.innerHTML = '';
    const meanings = v ? v.meanings : [];
    if (meanings.length > 0) {
        meanings.forEach(function(m) {
            grid.innerHTML += '<div class="meaning-item"><span class="word-sanskrit">'+m[0]+'</span><span class="word-meaning">'+m[1]+'</span></div>';
        });
    } else {
        grid.innerHTML = '<div style="color:#64748b;font-style:italic;padding:10px;">No meanings loaded for custom input.</div>';
    }

    card.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

// ============================================================
// VERSE NAVIGATION
// ============================================================
function loadVerse(delta) {
    currentVerseIdx = (currentVerseIdx + delta + VERSES.length) % VERSES.length;
    const v = VERSES[currentVerseIdx];
    document.getElementById('sanskritInput').value = v.sanskrit;
    document.getElementById('verseIndicator').textContent = 'Verse ' + v.id + ' / ' + VERSES.length;
    analyzeVerse();
}

// ============================================================
// AGGREGATE CORPUS ANALYSIS
// ============================================================
function analyzeCorpus() {
    const allSyllables = [];
    const allBinaryBits = [];
    const corpusCounts = new Array(DIM_COUNT).fill(0);
    let corpusTotal = 0;
    const perVerse = [];

    CORPUS_VERSES.forEach(v => {
        const syls = analyzeProsody(v.text);
        const laghu = syls.filter(s => !s.isGuru).length;
        const guru  = syls.filter(s => s.isGuru).length;
        const binary = syls.map(s => s.isGuru ? '1' : '0').join('');
        const spectrum = analyzeSpectrumRaw(v.text);
        corpusTotal += spectrum.total;
        for (let d = 0; d < DIM_COUNT; d++) corpusCounts[d] += spectrum.counts[d];
        allSyllables.push(...syls);
        allBinaryBits.push(binary);

        const pct = spectrum.total > 0 ? spectrum.counts.map(c => (c/spectrum.total)*100) : new Array(DIM_COUNT).fill(0);
        perVerse.push({
            id: v.id, total: syls.length, laghu, guru,
            ratio: guru > 0 ? (laghu / guru).toFixed(2) : 'тИЮ',
            meter: detectMeter(syls.length),
            dental: pct[3].toFixed(1), labial: pct[4].toFixed(1)
        });
    });

    const totalLaghu = allSyllables.filter(s => !s.isGuru).length;
    const totalGuru  = allSyllables.filter(s => s.isGuru).length;

    // Corpus summary stats
    document.getElementById('cTotalSyl').textContent = allSyllables.length;
    document.getElementById('cTotalLaghu').textContent = totalLaghu;
    document.getElementById('cTotalGuru').textContent = totalGuru;
    document.getElementById('cRatio').textContent = totalGuru > 0 ? (totalLaghu / totalGuru).toFixed(2) : 'тИЮ';

    // Corpus 9D spectrum bars
    const corpusSpectrum = corpusTotal > 0 ? corpusCounts.map(c => (c / corpusTotal) * 100) : new Array(DIM_COUNT).fill(0);
    const cBarIds = ['c-bar-guttural','c-bar-palatal','c-bar-cerebral','c-bar-dental','c-bar-labial','c-bar-nasal','c-bar-voiced','c-bar-aspirated','c-bar-length'];
    cBarIds.forEach((id, idx) => {
        const bar = document.getElementById(id);
        const pct = corpusSpectrum[idx] || 0;
        bar.style.width = Math.min(pct * 1.8, 100) + '%';
        bar.innerHTML = '<span>' + DIM_NAMES[idx] + '</span><span class="spectrum-pct">' + pct.toFixed(1) + '%</span>';
    });

    // Corpus interpretation
    const ci = document.getElementById('corpusInterpretation');
    const d = corpusSpectrum[3], l = corpusSpectrum[4];
    ci.style.display = 'block';
    ci.innerHTML = '<strong>ЁЯТб Corpus Interpretation:</strong> Dental (' + d.toFixed(1) + '%) + Labial (' + l.toFixed(1) + '%) = ' + (d + l).toFixed(1) + '% тАФ ' +
        (d + l > 50 ? 'strong Water & Earth predominance indicates <em>grounding and healing</em> character.' : 'moderate elemental balance across the corpus.');

    // Binary rhythm run-length analysis
    const fullBinary = allBinaryBits.join('');
    const runLengths = {};
    let run = fullBinary[0], runLen = 1;
    for (let i = 1; i <= fullBinary.length; i++) {
        if (i < fullBinary.length && fullBinary[i] === run) {
            runLen++;
        } else {
            const label = (run === '0' ? 'L' : 'G').repeat(runLen);
            const key = run.repeat(runLen);
            if (!runLengths[key]) runLengths[key] = { label, count: 0 };
            runLengths[key].count++;
            if (i < fullBinary.length) { run = fullBinary[i]; runLen = 1; }
        }
    }

    const sorted = Object.entries(runLengths).sort((a, b) => b[1].count - a[1].count);
    const maxCount = sorted.length > 0 ? sorted[0][1].count : 1;
    const rpDiv = document.getElementById('rhythmPatterns');
    rpDiv.innerHTML = '';
    sorted.slice(0, 8).forEach(([bits, info]) => {
        const pct = (info.count / maxCount) * 100;
        const color = bits[0] === '0' ? 'var(--laghu)' : 'var(--guru)';
        rpDiv.innerHTML += '<div class="spectrum-row"><span class="spectrum-label" style="width:55px;font-family:monospace;font-size:0.9rem;">' + info.label + '</span>' +
            '<div class="spectrum-track"><div class="spectrum-fill" style="width:' + pct + '%;background:' + color + ';"><span>' + info.count + ' hits</span></div></div></div>';
    });

    const ri = document.getElementById('rhythmInterpretation');
    ri.style.display = 'block';
    const singleL = runLengths['0'] ? runLengths['0'].count : 0;
    const singleG = runLengths['1'] ? runLengths['1'].count : 0;
    ri.innerHTML = '<strong>ЁЯТб Rhythm Interpretation:</strong> Single-short (L): ' + singleL + ', Single-long (G): ' + singleG +
        '. Ratio тЙИ ' + (singleG > 0 ? (singleL / singleG).toFixed(1) : 'тИЮ') + ':1. ' +
        'High prevalence of simple single-pulse patterns indicates <em>"trance logic"</em> тАФ minimal entropy patterns designed for rhythmic entrainment.';

    // Per-verse table
    const tbody = document.getElementById('corpusTableBody');
    tbody.innerHTML = '';
    perVerse.forEach(pv => {
        tbody.innerHTML += '<tr style="border-bottom:1px solid #1e293b;">' +
            '<td style="padding:8px;">' + pv.id + '</td>' +
            '<td style="padding:8px;text-align:center;">' + pv.total + '</td>' +
            '<td style="padding:8px;text-align:center;color:var(--laghu);">' + pv.laghu + '</td>' +
            '<td style="padding:8px;text-align:center;color:var(--guru);">' + pv.guru + '</td>' +
            '<td style="padding:8px;text-align:center;">' + pv.ratio + '</td>' +
            '<td style="padding:8px;text-align:center;">' + pv.meter + '</td>' +
            '<td style="padding:8px;text-align:center;color:var(--water);">' + pv.dental + '%</td>' +
            '<td style="padding:8px;text-align:center;color:var(--earth);">' + pv.labial + '%</td>' +
            '</tr>';
    });

    document.getElementById('corpusResult').classList.remove('hidden');
    document.getElementById('corpusResult').scrollIntoView({ behavior: 'smooth', block: 'start' });
}

// Raw spectrum (returns counts + total) for corpus aggregation
function analyzeSpectrumRaw(text) {
    const counts = new Array(DIM_COUNT).fill(0);
    let total = 0;
    for (const ch of text) {
        const vec = PHONETIC_MAP[ch];
        if (vec) { total++; for (let d = 0; d < DIM_COUNT; d++) counts[d] += vec[d]; }
    }
    return { counts, total };
}

// Initialize
document.getElementById('verseIndicator').textContent = 'Verse 1 / ' + VERSES.length;
window.addEventListener('DOMContentLoaded', function() { analyzeVerse(); });
</script>

</body>
</html>
